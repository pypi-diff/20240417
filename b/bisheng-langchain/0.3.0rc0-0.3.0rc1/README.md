# Comparing `tmp/bisheng_langchain-0.3.0rc0-py3-none-any.whl.zip` & `tmp/bisheng_langchain-0.3.0rc1-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,116 +1,116 @@
-Zip file size: 169497 bytes, number of entries: 114
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-11 09:28 bisheng_langchain/__init__.py
--rw-r--r--  2.0 unx     7909 b- defN 24-Apr-11 09:28 bisheng_langchain/text_splitter.py
--rw-r--r--  2.0 unx      226 b- defN 24-Apr-11 09:28 bisheng_langchain/agents/__init__.py
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-11 09:28 bisheng_langchain/agents/chatglm_functions_agent/__init__.py
--rw-r--r--  2.0 unx    13674 b- defN 24-Apr-11 09:28 bisheng_langchain/agents/chatglm_functions_agent/base.py
--rw-r--r--  2.0 unx     3497 b- defN 24-Apr-11 09:28 bisheng_langchain/agents/chatglm_functions_agent/output_parser.py
--rw-r--r--  2.0 unx      992 b- defN 24-Apr-11 09:28 bisheng_langchain/agents/chatglm_functions_agent/prompt.py
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-11 09:28 bisheng_langchain/agents/llm_functions_agent/__init__.py
--rw-r--r--  2.0 unx    12296 b- defN 24-Apr-11 09:28 bisheng_langchain/agents/llm_functions_agent/base.py
--rw-r--r--  2.0 unx      430 b- defN 24-Apr-11 09:28 bisheng_langchain/autogen_role/__init__.py
--rw-r--r--  2.0 unx     4657 b- defN 24-Apr-11 09:28 bisheng_langchain/autogen_role/assistant.py
--rw-r--r--  2.0 unx     2464 b- defN 24-Apr-11 09:28 bisheng_langchain/autogen_role/custom.py
--rw-r--r--  2.0 unx     2234 b- defN 24-Apr-11 09:28 bisheng_langchain/autogen_role/groupchat_manager.py
--rw-r--r--  2.0 unx     5715 b- defN 24-Apr-11 09:28 bisheng_langchain/autogen_role/user.py
--rw-r--r--  2.0 unx      759 b- defN 24-Apr-11 09:28 bisheng_langchain/chains/__init__.py
--rw-r--r--  2.0 unx     1903 b- defN 24-Apr-11 09:28 bisheng_langchain/chains/loader_output.py
--rw-r--r--  2.0 unx     2805 b- defN 24-Apr-11 09:28 bisheng_langchain/chains/transform.py
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-11 09:28 bisheng_langchain/chains/autogen/__init__.py
--rw-r--r--  2.0 unx     3270 b- defN 24-Apr-11 09:28 bisheng_langchain/chains/autogen/auto_gen.py
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-11 09:28 bisheng_langchain/chains/combine_documents/__init__.py
--rw-r--r--  2.0 unx     2369 b- defN 24-Apr-11 09:28 bisheng_langchain/chains/combine_documents/stuff.py
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-11 09:28 bisheng_langchain/chains/conversational_retrieval/__init__.py
--rw-r--r--  2.0 unx     5313 b- defN 24-Apr-11 09:28 bisheng_langchain/chains/conversational_retrieval/base.py
--rw-r--r--  2.0 unx     8795 b- defN 24-Apr-11 09:28 bisheng_langchain/chains/question_answering/__init__.py
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-11 09:28 bisheng_langchain/chains/retrieval/__init__.py
--rw-r--r--  2.0 unx     3050 b- defN 24-Apr-11 09:28 bisheng_langchain/chains/retrieval/retrieval_chain.py
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-11 09:28 bisheng_langchain/chains/router/__init__.py
--rw-r--r--  2.0 unx      375 b- defN 24-Apr-11 09:28 bisheng_langchain/chains/router/multi_rule.py
--rw-r--r--  2.0 unx     1835 b- defN 24-Apr-11 09:28 bisheng_langchain/chains/router/rule_router.py
--rw-r--r--  2.0 unx      635 b- defN 24-Apr-11 09:28 bisheng_langchain/chat_models/__init__.py
--rw-r--r--  2.0 unx    23152 b- defN 24-Apr-11 09:28 bisheng_langchain/chat_models/host_llm.py
--rw-r--r--  2.0 unx    13901 b- defN 24-Apr-11 09:28 bisheng_langchain/chat_models/minimax.py
--rw-r--r--  2.0 unx    17082 b- defN 24-Apr-11 09:28 bisheng_langchain/chat_models/proxy_llm.py
--rw-r--r--  2.0 unx    19971 b- defN 24-Apr-11 09:28 bisheng_langchain/chat_models/qwen.py
--rw-r--r--  2.0 unx    17056 b- defN 24-Apr-11 09:28 bisheng_langchain/chat_models/sensetime.py
--rw-r--r--  2.0 unx    13671 b- defN 24-Apr-11 09:28 bisheng_langchain/chat_models/wenxin.py
--rw-r--r--  2.0 unx    14037 b- defN 24-Apr-11 09:28 bisheng_langchain/chat_models/xunfeiai.py
--rw-r--r--  2.0 unx    15342 b- defN 24-Apr-11 09:28 bisheng_langchain/chat_models/zhipuai.py
--rw-r--r--  2.0 unx      443 b- defN 24-Apr-11 09:28 bisheng_langchain/chat_models/interface/__init__.py
--rw-r--r--  2.0 unx     4423 b- defN 24-Apr-11 09:28 bisheng_langchain/chat_models/interface/minimax.py
--rw-r--r--  2.0 unx     2081 b- defN 24-Apr-11 09:28 bisheng_langchain/chat_models/interface/openai.py
--rw-r--r--  2.0 unx     1141 b- defN 24-Apr-11 09:28 bisheng_langchain/chat_models/interface/types.py
--rw-r--r--  2.0 unx       65 b- defN 24-Apr-11 09:28 bisheng_langchain/chat_models/interface/utils.py
--rw-r--r--  2.0 unx     4246 b- defN 24-Apr-11 09:28 bisheng_langchain/chat_models/interface/wenxin.py
--rw-r--r--  2.0 unx     7514 b- defN 24-Apr-11 09:28 bisheng_langchain/chat_models/interface/xunfei.py
--rw-r--r--  2.0 unx     2636 b- defN 24-Apr-11 09:28 bisheng_langchain/chat_models/interface/zhipuai.py
--rw-r--r--  2.0 unx      366 b- defN 24-Apr-11 09:28 bisheng_langchain/document_loaders/__init__.py
--rw-r--r--  2.0 unx     6656 b- defN 24-Apr-11 09:28 bisheng_langchain/document_loaders/custom_kv.py
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-11 09:28 bisheng_langchain/document_loaders/elem_html.py
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-11 09:28 bisheng_langchain/document_loaders/elem_image.py
--rw-r--r--  2.0 unx    22243 b- defN 24-Apr-11 09:28 bisheng_langchain/document_loaders/elem_pdf.py
--rw-r--r--  2.0 unx     5169 b- defN 24-Apr-11 09:28 bisheng_langchain/document_loaders/elem_unstrcutured_loader.py
--rw-r--r--  2.0 unx     4063 b- defN 24-Apr-11 09:28 bisheng_langchain/document_loaders/universal_kv.py
--rw-r--r--  2.0 unx      171 b- defN 24-Apr-11 09:28 bisheng_langchain/document_loaders/parsers/__init__.py
--rw-r--r--  2.0 unx     1760 b- defN 24-Apr-11 09:28 bisheng_langchain/document_loaders/parsers/ellm_client.py
--rw-r--r--  2.0 unx      938 b- defN 24-Apr-11 09:28 bisheng_langchain/document_loaders/parsers/image.py
--rw-r--r--  2.0 unx     1612 b- defN 24-Apr-11 09:28 bisheng_langchain/document_loaders/parsers/ocr_client.py
--rw-r--r--  2.0 unx     8685 b- defN 24-Apr-11 09:28 bisheng_langchain/document_loaders/parsers/test_image.py
--rw-r--r--  2.0 unx      534 b- defN 24-Apr-11 09:28 bisheng_langchain/embeddings/__init__.py
--rw-r--r--  2.0 unx     6295 b- defN 24-Apr-11 09:28 bisheng_langchain/embeddings/host_embedding.py
--rw-r--r--  2.0 unx     3192 b- defN 24-Apr-11 09:28 bisheng_langchain/embeddings/huggingfacegte.py
--rw-r--r--  2.0 unx     3415 b- defN 24-Apr-11 09:28 bisheng_langchain/embeddings/huggingfacemultilingual.py
--rw-r--r--  2.0 unx     4737 b- defN 24-Apr-11 09:28 bisheng_langchain/embeddings/wenxin.py
--rw-r--r--  2.0 unx       98 b- defN 24-Apr-11 09:28 bisheng_langchain/embeddings/interface/__init__.py
--rw-r--r--  2.0 unx      461 b- defN 24-Apr-11 09:28 bisheng_langchain/embeddings/interface/types.py
--rw-r--r--  2.0 unx     3104 b- defN 24-Apr-11 09:28 bisheng_langchain/embeddings/interface/wenxin.py
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-11 09:28 bisheng_langchain/gpts/__init__.py
--rw-r--r--  2.0 unx     5083 b- defN 24-Apr-11 09:28 bisheng_langchain/gpts/assistant.py
--rw-r--r--  2.0 unx     3786 b- defN 24-Apr-11 09:28 bisheng_langchain/gpts/auto_optimization.py
--rw-r--r--  2.0 unx     1777 b- defN 24-Apr-11 09:28 bisheng_langchain/gpts/auto_tool_selected.py
--rw-r--r--  2.0 unx     6345 b- defN 24-Apr-11 09:28 bisheng_langchain/gpts/load_tools.py
--rw-r--r--  2.0 unx      213 b- defN 24-Apr-11 09:28 bisheng_langchain/gpts/message_types.py
--rw-r--r--  2.0 unx     6671 b- defN 24-Apr-11 09:28 bisheng_langchain/gpts/utils.py
--rw-r--r--  2.0 unx      261 b- defN 24-Apr-11 09:28 bisheng_langchain/gpts/agent_types/__init__.py
--rw-r--r--  2.0 unx     8419 b- defN 24-Apr-11 09:28 bisheng_langchain/gpts/agent_types/llm_functions_agent.py
--rw-r--r--  2.0 unx      568 b- defN 24-Apr-11 09:28 bisheng_langchain/gpts/prompts/__init__.py
--rw-r--r--  2.0 unx     4151 b- defN 24-Apr-11 09:28 bisheng_langchain/gpts/prompts/assistant_prompt_opt.py
--rw-r--r--  2.0 unx       55 b- defN 24-Apr-11 09:28 bisheng_langchain/gpts/prompts/base_prompt.py
--rw-r--r--  2.0 unx     5336 b- defN 24-Apr-11 09:28 bisheng_langchain/gpts/prompts/breif_description_prompt.py
--rw-r--r--  2.0 unx     5962 b- defN 24-Apr-11 09:28 bisheng_langchain/gpts/prompts/opening_dialog_prompt.py
--rw-r--r--  2.0 unx     1400 b- defN 24-Apr-11 09:28 bisheng_langchain/gpts/prompts/select_tools_prompt.py
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-11 09:28 bisheng_langchain/gpts/tools/__init__.py
--rw-r--r--  2.0 unx     1593 b- defN 24-Apr-11 09:28 bisheng_langchain/gpts/tools/api_tools/__init__.py
--rw-r--r--  2.0 unx     3594 b- defN 24-Apr-11 09:28 bisheng_langchain/gpts/tools/api_tools/base.py
--rw-r--r--  2.0 unx     1814 b- defN 24-Apr-11 09:28 bisheng_langchain/gpts/tools/api_tools/flow.py
--rw-r--r--  2.0 unx    19270 b- defN 24-Apr-11 09:28 bisheng_langchain/gpts/tools/api_tools/macro_data.py
--rw-r--r--  2.0 unx     9502 b- defN 24-Apr-11 09:28 bisheng_langchain/gpts/tools/api_tools/sina.py
--rw-r--r--  2.0 unx     6684 b- defN 24-Apr-11 09:28 bisheng_langchain/gpts/tools/api_tools/tianyancha.py
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-11 09:28 bisheng_langchain/gpts/tools/bing_search/__init__.py
--rw-r--r--  2.0 unx     1710 b- defN 24-Apr-11 09:28 bisheng_langchain/gpts/tools/bing_search/tool.py
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-11 09:28 bisheng_langchain/gpts/tools/calculator/__init__.py
--rw-r--r--  2.0 unx      705 b- defN 24-Apr-11 09:28 bisheng_langchain/gpts/tools/calculator/tool.py
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-11 09:28 bisheng_langchain/gpts/tools/code_interpreter/__init__.py
--rw-r--r--  2.0 unx     8717 b- defN 24-Apr-11 09:28 bisheng_langchain/gpts/tools/code_interpreter/tool.py
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-11 09:28 bisheng_langchain/gpts/tools/dalle_image_generator/__init__.py
--rw-r--r--  2.0 unx     7528 b- defN 24-Apr-11 09:28 bisheng_langchain/gpts/tools/dalle_image_generator/tool.py
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-11 09:28 bisheng_langchain/gpts/tools/get_current_time/__init__.py
--rw-r--r--  2.0 unx      801 b- defN 24-Apr-11 09:28 bisheng_langchain/gpts/tools/get_current_time/tool.py
--rw-r--r--  2.0 unx      153 b- defN 24-Apr-11 09:28 bisheng_langchain/input_output/__init__.py
--rw-r--r--  2.0 unx     1094 b- defN 24-Apr-11 09:28 bisheng_langchain/input_output/input.py
--rw-r--r--  2.0 unx    11585 b- defN 24-Apr-11 09:28 bisheng_langchain/input_output/output.py
--rw-r--r--  2.0 unx      210 b- defN 24-Apr-11 09:28 bisheng_langchain/retrievers/__init__.py
--rw-r--r--  2.0 unx     5942 b- defN 24-Apr-11 09:28 bisheng_langchain/retrievers/ensemble.py
--rw-r--r--  2.0 unx     4465 b- defN 24-Apr-11 09:28 bisheng_langchain/retrievers/mix_es_vector.py
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-11 09:28 bisheng_langchain/utils/__init__.py
--rw-r--r--  2.0 unx     8688 b- defN 24-Apr-11 09:28 bisheng_langchain/utils/requests.py
--rw-r--r--  2.0 unx      213 b- defN 24-Apr-11 09:28 bisheng_langchain/vectorstores/__init__.py
--rw-r--r--  2.0 unx    13286 b- defN 24-Apr-11 09:28 bisheng_langchain/vectorstores/elastic_keywords_search.py
--rw-r--r--  2.0 unx    36297 b- defN 24-Apr-11 09:28 bisheng_langchain/vectorstores/milvus.py
--rw-r--r--  2.0 unx     4353 b- defN 24-Apr-11 09:28 bisheng_langchain/vectorstores/retriever.py
--rw-r--r--  2.0 unx     2414 b- defN 24-Apr-11 09:28 bisheng_langchain-0.3.0rc0.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 24-Apr-11 09:28 bisheng_langchain-0.3.0rc0.dist-info/WHEEL
--rw-r--r--  2.0 unx       18 b- defN 24-Apr-11 09:28 bisheng_langchain-0.3.0rc0.dist-info/top_level.txt
--rw-rw-r--  2.0 unx    11715 b- defN 24-Apr-11 09:28 bisheng_langchain-0.3.0rc0.dist-info/RECORD
-114 files, 527933 bytes uncompressed, 150131 bytes compressed:  71.6%
+Zip file size: 172642 bytes, number of entries: 114
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-17 11:13 bisheng_langchain/__init__.py
+-rw-r--r--  2.0 unx     7909 b- defN 24-Apr-17 11:13 bisheng_langchain/text_splitter.py
+-rw-r--r--  2.0 unx      226 b- defN 24-Apr-17 11:13 bisheng_langchain/agents/__init__.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-17 11:13 bisheng_langchain/agents/chatglm_functions_agent/__init__.py
+-rw-r--r--  2.0 unx    13674 b- defN 24-Apr-17 11:13 bisheng_langchain/agents/chatglm_functions_agent/base.py
+-rw-r--r--  2.0 unx     3497 b- defN 24-Apr-17 11:13 bisheng_langchain/agents/chatglm_functions_agent/output_parser.py
+-rw-r--r--  2.0 unx      992 b- defN 24-Apr-17 11:13 bisheng_langchain/agents/chatglm_functions_agent/prompt.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-17 11:13 bisheng_langchain/agents/llm_functions_agent/__init__.py
+-rw-r--r--  2.0 unx    12296 b- defN 24-Apr-17 11:13 bisheng_langchain/agents/llm_functions_agent/base.py
+-rw-r--r--  2.0 unx      430 b- defN 24-Apr-17 11:13 bisheng_langchain/autogen_role/__init__.py
+-rw-r--r--  2.0 unx     4657 b- defN 24-Apr-17 11:13 bisheng_langchain/autogen_role/assistant.py
+-rw-r--r--  2.0 unx     2464 b- defN 24-Apr-17 11:13 bisheng_langchain/autogen_role/custom.py
+-rw-r--r--  2.0 unx     2234 b- defN 24-Apr-17 11:13 bisheng_langchain/autogen_role/groupchat_manager.py
+-rw-r--r--  2.0 unx     5715 b- defN 24-Apr-17 11:13 bisheng_langchain/autogen_role/user.py
+-rw-r--r--  2.0 unx      759 b- defN 24-Apr-17 11:13 bisheng_langchain/chains/__init__.py
+-rw-r--r--  2.0 unx     1903 b- defN 24-Apr-17 11:13 bisheng_langchain/chains/loader_output.py
+-rw-r--r--  2.0 unx     2805 b- defN 24-Apr-17 11:13 bisheng_langchain/chains/transform.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-17 11:13 bisheng_langchain/chains/autogen/__init__.py
+-rw-r--r--  2.0 unx     3270 b- defN 24-Apr-17 11:13 bisheng_langchain/chains/autogen/auto_gen.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-17 11:13 bisheng_langchain/chains/combine_documents/__init__.py
+-rw-r--r--  2.0 unx     2369 b- defN 24-Apr-17 11:13 bisheng_langchain/chains/combine_documents/stuff.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-17 11:13 bisheng_langchain/chains/conversational_retrieval/__init__.py
+-rw-r--r--  2.0 unx     5313 b- defN 24-Apr-17 11:13 bisheng_langchain/chains/conversational_retrieval/base.py
+-rw-r--r--  2.0 unx     8795 b- defN 24-Apr-17 11:13 bisheng_langchain/chains/question_answering/__init__.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-17 11:13 bisheng_langchain/chains/retrieval/__init__.py
+-rw-r--r--  2.0 unx     3050 b- defN 24-Apr-17 11:13 bisheng_langchain/chains/retrieval/retrieval_chain.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-17 11:13 bisheng_langchain/chains/router/__init__.py
+-rw-r--r--  2.0 unx      375 b- defN 24-Apr-17 11:13 bisheng_langchain/chains/router/multi_rule.py
+-rw-r--r--  2.0 unx     1835 b- defN 24-Apr-17 11:13 bisheng_langchain/chains/router/rule_router.py
+-rw-r--r--  2.0 unx      635 b- defN 24-Apr-17 11:13 bisheng_langchain/chat_models/__init__.py
+-rw-r--r--  2.0 unx    23153 b- defN 24-Apr-17 11:13 bisheng_langchain/chat_models/host_llm.py
+-rw-r--r--  2.0 unx    13901 b- defN 24-Apr-17 11:13 bisheng_langchain/chat_models/minimax.py
+-rw-r--r--  2.0 unx    17082 b- defN 24-Apr-17 11:13 bisheng_langchain/chat_models/proxy_llm.py
+-rw-r--r--  2.0 unx    19971 b- defN 24-Apr-17 11:13 bisheng_langchain/chat_models/qwen.py
+-rw-r--r--  2.0 unx    17056 b- defN 24-Apr-17 11:13 bisheng_langchain/chat_models/sensetime.py
+-rw-r--r--  2.0 unx    13671 b- defN 24-Apr-17 11:13 bisheng_langchain/chat_models/wenxin.py
+-rw-r--r--  2.0 unx    14037 b- defN 24-Apr-17 11:13 bisheng_langchain/chat_models/xunfeiai.py
+-rw-r--r--  2.0 unx    15342 b- defN 24-Apr-17 11:13 bisheng_langchain/chat_models/zhipuai.py
+-rw-r--r--  2.0 unx      443 b- defN 24-Apr-17 11:13 bisheng_langchain/chat_models/interface/__init__.py
+-rw-r--r--  2.0 unx     4423 b- defN 24-Apr-17 11:13 bisheng_langchain/chat_models/interface/minimax.py
+-rw-r--r--  2.0 unx     2081 b- defN 24-Apr-17 11:13 bisheng_langchain/chat_models/interface/openai.py
+-rw-r--r--  2.0 unx     1141 b- defN 24-Apr-17 11:13 bisheng_langchain/chat_models/interface/types.py
+-rw-r--r--  2.0 unx       65 b- defN 24-Apr-17 11:13 bisheng_langchain/chat_models/interface/utils.py
+-rw-r--r--  2.0 unx     4246 b- defN 24-Apr-17 11:13 bisheng_langchain/chat_models/interface/wenxin.py
+-rw-r--r--  2.0 unx     7514 b- defN 24-Apr-17 11:13 bisheng_langchain/chat_models/interface/xunfei.py
+-rw-r--r--  2.0 unx     2636 b- defN 24-Apr-17 11:13 bisheng_langchain/chat_models/interface/zhipuai.py
+-rw-r--r--  2.0 unx      366 b- defN 24-Apr-17 11:13 bisheng_langchain/document_loaders/__init__.py
+-rw-r--r--  2.0 unx     6656 b- defN 24-Apr-17 11:13 bisheng_langchain/document_loaders/custom_kv.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-17 11:13 bisheng_langchain/document_loaders/elem_html.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-17 11:13 bisheng_langchain/document_loaders/elem_image.py
+-rw-r--r--  2.0 unx    22243 b- defN 24-Apr-17 11:13 bisheng_langchain/document_loaders/elem_pdf.py
+-rw-r--r--  2.0 unx     5169 b- defN 24-Apr-17 11:13 bisheng_langchain/document_loaders/elem_unstrcutured_loader.py
+-rw-r--r--  2.0 unx     4063 b- defN 24-Apr-17 11:13 bisheng_langchain/document_loaders/universal_kv.py
+-rw-r--r--  2.0 unx      171 b- defN 24-Apr-17 11:13 bisheng_langchain/document_loaders/parsers/__init__.py
+-rw-r--r--  2.0 unx     1760 b- defN 24-Apr-17 11:13 bisheng_langchain/document_loaders/parsers/ellm_client.py
+-rw-r--r--  2.0 unx      938 b- defN 24-Apr-17 11:13 bisheng_langchain/document_loaders/parsers/image.py
+-rw-r--r--  2.0 unx     1612 b- defN 24-Apr-17 11:13 bisheng_langchain/document_loaders/parsers/ocr_client.py
+-rw-r--r--  2.0 unx     8685 b- defN 24-Apr-17 11:13 bisheng_langchain/document_loaders/parsers/test_image.py
+-rw-r--r--  2.0 unx      534 b- defN 24-Apr-17 11:13 bisheng_langchain/embeddings/__init__.py
+-rw-r--r--  2.0 unx     6295 b- defN 24-Apr-17 11:13 bisheng_langchain/embeddings/host_embedding.py
+-rw-r--r--  2.0 unx     3192 b- defN 24-Apr-17 11:13 bisheng_langchain/embeddings/huggingfacegte.py
+-rw-r--r--  2.0 unx     3415 b- defN 24-Apr-17 11:13 bisheng_langchain/embeddings/huggingfacemultilingual.py
+-rw-r--r--  2.0 unx     4737 b- defN 24-Apr-17 11:13 bisheng_langchain/embeddings/wenxin.py
+-rw-r--r--  2.0 unx       98 b- defN 24-Apr-17 11:13 bisheng_langchain/embeddings/interface/__init__.py
+-rw-r--r--  2.0 unx      461 b- defN 24-Apr-17 11:13 bisheng_langchain/embeddings/interface/types.py
+-rw-r--r--  2.0 unx     3104 b- defN 24-Apr-17 11:13 bisheng_langchain/embeddings/interface/wenxin.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-17 11:13 bisheng_langchain/gpts/__init__.py
+-rw-r--r--  2.0 unx     5083 b- defN 24-Apr-17 11:13 bisheng_langchain/gpts/assistant.py
+-rw-r--r--  2.0 unx     3626 b- defN 24-Apr-17 11:13 bisheng_langchain/gpts/auto_optimization.py
+-rw-r--r--  2.0 unx     1582 b- defN 24-Apr-17 11:13 bisheng_langchain/gpts/auto_tool_selected.py
+-rw-r--r--  2.0 unx     7871 b- defN 24-Apr-17 11:13 bisheng_langchain/gpts/load_tools.py
+-rw-r--r--  2.0 unx      213 b- defN 24-Apr-17 11:13 bisheng_langchain/gpts/message_types.py
+-rw-r--r--  2.0 unx     6671 b- defN 24-Apr-17 11:13 bisheng_langchain/gpts/utils.py
+-rw-r--r--  2.0 unx      261 b- defN 24-Apr-17 11:13 bisheng_langchain/gpts/agent_types/__init__.py
+-rw-r--r--  2.0 unx     8419 b- defN 24-Apr-17 11:13 bisheng_langchain/gpts/agent_types/llm_functions_agent.py
+-rw-r--r--  2.0 unx      568 b- defN 24-Apr-17 11:13 bisheng_langchain/gpts/prompts/__init__.py
+-rw-r--r--  2.0 unx     4151 b- defN 24-Apr-17 11:13 bisheng_langchain/gpts/prompts/assistant_prompt_opt.py
+-rw-r--r--  2.0 unx       55 b- defN 24-Apr-17 11:13 bisheng_langchain/gpts/prompts/base_prompt.py
+-rw-r--r--  2.0 unx     5336 b- defN 24-Apr-17 11:13 bisheng_langchain/gpts/prompts/breif_description_prompt.py
+-rw-r--r--  2.0 unx     5965 b- defN 24-Apr-17 11:13 bisheng_langchain/gpts/prompts/opening_dialog_prompt.py
+-rw-r--r--  2.0 unx     1400 b- defN 24-Apr-17 11:13 bisheng_langchain/gpts/prompts/select_tools_prompt.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-17 11:13 bisheng_langchain/gpts/tools/__init__.py
+-rw-r--r--  2.0 unx     1608 b- defN 24-Apr-17 11:13 bisheng_langchain/gpts/tools/api_tools/__init__.py
+-rw-r--r--  2.0 unx     3618 b- defN 24-Apr-17 11:13 bisheng_langchain/gpts/tools/api_tools/base.py
+-rw-r--r--  2.0 unx     2486 b- defN 24-Apr-17 11:13 bisheng_langchain/gpts/tools/api_tools/flow.py
+-rw-r--r--  2.0 unx    27429 b- defN 24-Apr-17 11:13 bisheng_langchain/gpts/tools/api_tools/macro_data.py
+-rw-r--r--  2.0 unx     9542 b- defN 24-Apr-17 11:13 bisheng_langchain/gpts/tools/api_tools/sina.py
+-rw-r--r--  2.0 unx     6684 b- defN 24-Apr-17 11:13 bisheng_langchain/gpts/tools/api_tools/tianyancha.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-17 11:13 bisheng_langchain/gpts/tools/bing_search/__init__.py
+-rw-r--r--  2.0 unx     1710 b- defN 24-Apr-17 11:13 bisheng_langchain/gpts/tools/bing_search/tool.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-17 11:13 bisheng_langchain/gpts/tools/calculator/__init__.py
+-rw-r--r--  2.0 unx      705 b- defN 24-Apr-17 11:13 bisheng_langchain/gpts/tools/calculator/tool.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-17 11:13 bisheng_langchain/gpts/tools/code_interpreter/__init__.py
+-rw-r--r--  2.0 unx    11443 b- defN 24-Apr-17 11:13 bisheng_langchain/gpts/tools/code_interpreter/tool.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-17 11:13 bisheng_langchain/gpts/tools/dalle_image_generator/__init__.py
+-rw-r--r--  2.0 unx     7528 b- defN 24-Apr-17 11:13 bisheng_langchain/gpts/tools/dalle_image_generator/tool.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-17 11:13 bisheng_langchain/gpts/tools/get_current_time/__init__.py
+-rw-r--r--  2.0 unx      801 b- defN 24-Apr-17 11:13 bisheng_langchain/gpts/tools/get_current_time/tool.py
+-rw-r--r--  2.0 unx      153 b- defN 24-Apr-17 11:13 bisheng_langchain/input_output/__init__.py
+-rw-r--r--  2.0 unx     1094 b- defN 24-Apr-17 11:13 bisheng_langchain/input_output/input.py
+-rw-r--r--  2.0 unx    11585 b- defN 24-Apr-17 11:13 bisheng_langchain/input_output/output.py
+-rw-r--r--  2.0 unx      210 b- defN 24-Apr-17 11:13 bisheng_langchain/retrievers/__init__.py
+-rw-r--r--  2.0 unx     5942 b- defN 24-Apr-17 11:13 bisheng_langchain/retrievers/ensemble.py
+-rw-r--r--  2.0 unx     4465 b- defN 24-Apr-17 11:13 bisheng_langchain/retrievers/mix_es_vector.py
+-rw-r--r--  2.0 unx        0 b- defN 24-Apr-17 11:13 bisheng_langchain/utils/__init__.py
+-rw-r--r--  2.0 unx     8688 b- defN 24-Apr-17 11:13 bisheng_langchain/utils/requests.py
+-rw-r--r--  2.0 unx      213 b- defN 24-Apr-17 11:13 bisheng_langchain/vectorstores/__init__.py
+-rw-r--r--  2.0 unx    13286 b- defN 24-Apr-17 11:13 bisheng_langchain/vectorstores/elastic_keywords_search.py
+-rw-r--r--  2.0 unx    36297 b- defN 24-Apr-17 11:13 bisheng_langchain/vectorstores/milvus.py
+-rw-r--r--  2.0 unx     4353 b- defN 24-Apr-17 11:13 bisheng_langchain/vectorstores/retriever.py
+-rw-r--r--  2.0 unx     2414 b- defN 24-Apr-17 11:13 bisheng_langchain-0.3.0rc1.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 24-Apr-17 11:13 bisheng_langchain-0.3.0rc1.dist-info/WHEEL
+-rw-r--r--  2.0 unx       18 b- defN 24-Apr-17 11:13 bisheng_langchain-0.3.0rc1.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx    11716 b- defN 24-Apr-17 11:13 bisheng_langchain-0.3.0rc1.dist-info/RECORD
+114 files, 540745 bytes uncompressed, 153276 bytes compressed:  71.7%
```

## zipnote {}

```diff
@@ -324,20 +324,20 @@
 
 Filename: bisheng_langchain/vectorstores/milvus.py
 Comment: 
 
 Filename: bisheng_langchain/vectorstores/retriever.py
 Comment: 
 
-Filename: bisheng_langchain-0.3.0rc0.dist-info/METADATA
+Filename: bisheng_langchain-0.3.0rc1.dist-info/METADATA
 Comment: 
 
-Filename: bisheng_langchain-0.3.0rc0.dist-info/WHEEL
+Filename: bisheng_langchain-0.3.0rc1.dist-info/WHEEL
 Comment: 
 
-Filename: bisheng_langchain-0.3.0rc0.dist-info/top_level.txt
+Filename: bisheng_langchain-0.3.0rc1.dist-info/top_level.txt
 Comment: 
 
-Filename: bisheng_langchain-0.3.0rc0.dist-info/RECORD
+Filename: bisheng_langchain-0.3.0rc1.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## bisheng_langchain/chat_models/host_llm.py

```diff
@@ -159,15 +159,15 @@
                 if values['decoupled']:
                     values[
                         'host_base_url'] = f"{values['host_base_url']}/{values['model_name']}/generate_stream"
                 else:
                     values[
                         'host_base_url'] = f"{values['host_base_url']}/{values['model_name']}/infer"
         except Exception:
-            raise Exception(f'Update Decoupled status faild for model {model}')
+            raise Exception(f'Update Decoupled status failed for model {model}')
 
         try:
             if values['headers']:
                 headers = values['headers']
             else:
                 headers = {'Content-Type': 'application/json'}
             values['client'] = Requests(headers=headers, request_timeout=values['request_timeout'])
```

## bisheng_langchain/gpts/auto_optimization.py

```diff
@@ -1,13 +1,17 @@
 import json
 import os
 import re
 
 import httpx
-from bisheng_langchain.gpts.prompts import ASSISTANT_PROMPT_OPT, BREIF_DES_PROMPT, OPENDIALOG_PROMPT
+from bisheng_langchain.gpts.prompts import (
+    ASSISTANT_PROMPT_OPT,
+    BREIF_DES_PROMPT,
+    OPENDIALOG_PROMPT,
+)
 from langchain_core.language_models.base import LanguageModelLike
 from langchain_openai.chat_models import ChatOpenAI
 from loguru import logger
 
 
 def parse_markdown(input_str: str) -> str:
     match = re.search(r'```(markdown)?(.*)```', input_str, re.DOTALL)
@@ -44,44 +48,39 @@
         llm (LanguageModelLike):
         assistant_name (str):
         assistant_description (str):
 
     Returns:
         assistant_prompt(str):
     """
-    chain = ({
-        'assistant_name': lambda x: x['assistant_name'],
-        'assistant_description': lambda x: x['assistant_description'],
-    }
-             | ASSISTANT_PROMPT_OPT
-             | llm)
-    chain_output = chain.invoke({
-        'assistant_name': assistant_name,
-        'assistant_description': assistant_description,
-    })
+    chain = ASSISTANT_PROMPT_OPT | llm
+    chain_output = chain.invoke(
+        {
+            'assistant_name': assistant_name,
+            'assistant_description': assistant_description,
+        }
+    )
     response = chain_output.content
     assistant_prompt = parse_markdown(response)
     return assistant_prompt
 
 
 def generate_opening_dialog(
     llm: LanguageModelLike,
     description: str,
 ) -> str:
-    chain = ({
-        'description': lambda x: x['description'],
-    }
-             | OPENDIALOG_PROMPT
-             | llm)
+    chain = OPENDIALOG_PROMPT | llm
     time = 0
     while time <= 3:
         try:
-            chain_output = chain.invoke({
-                'description': description,
-            })
+            chain_output = chain.invoke(
+                {
+                    'description': description,
+                }
+            )
             output = parse_json(chain_output.content)
             output = json.loads(output)
             opening_lines = output[0]['开场白']
             questions = output[0]['问题']
             break
         except Exception as e:
             logger.info(f'第{time}次解析失败, 错误信息: {e}')
@@ -97,28 +96,30 @@
     return res
 
 
 def generate_breif_description(
     llm: LanguageModelLike,
     description: str,
 ) -> str:
-    chain = ({
-        'description': lambda x: x['description'],
-    }
-             | BREIF_DES_PROMPT
-             | llm)
-    chain_output = chain.invoke({
-        'description': description,
-    })
+    chain = BREIF_DES_PROMPT | llm
+    chain_output = chain.invoke(
+        {
+            'description': description,
+        }
+    )
     breif_description = chain_output.content
     breif_description = breif_description.strip()
     return breif_description
 
 
 if __name__ == '__main__':
+    from dotenv import load_dotenv
+
+    load_dotenv('/app/.env', override=True)
+
     httpx_client = httpx.Client(proxies=os.getenv('OPENAI_PROXY'))
     llm = ChatOpenAI(model='gpt-4-0125-preview', temperature=0.01, http_client=httpx_client)
     # llm = ChatQWen(model="qwen1.5-72b-chat", temperature=0.01, api_key=os.getenv('QWEN_API_KEY'))
     assistant_name = '金融分析助手'
     assistant_description = '1. 分析上市公司最新的年报财报；2. 获取上市公司的最新新闻；'
     assistant_prompt = optimize_assistant_prompt(llm, assistant_name, assistant_description)
     # print(assistant_prompt)
```

## bisheng_langchain/gpts/auto_tool_selected.py

```diff
@@ -1,10 +1,13 @@
 from bisheng_langchain.gpts.prompts.select_tools_prompt import HUMAN_MSG, SYS_MSG
-from langchain.prompts import (ChatPromptTemplate, HumanMessagePromptTemplate,
-                               SystemMessagePromptTemplate)
+from langchain.prompts import (
+    ChatPromptTemplate,
+    HumanMessagePromptTemplate,
+    SystemMessagePromptTemplate,
+)
 from langchain_core.language_models.base import LanguageModelLike
 from pydantic import BaseModel
 
 
 class ToolInfo(BaseModel):
     tool_name: str
     tool_description: str
@@ -27,27 +30,23 @@
     def select(self, task_name: str, task_description: str) -> list[str]:
         tool_pool = [tool.dict() for tool in self.tools]
         messages = [
             SystemMessagePromptTemplate.from_template(self.system_message),
             HumanMessagePromptTemplate.from_template(self.human_message),
         ]
 
-        chain = ({
-            'tool_pool': lambda x: x['tool_pool'],
-            'task_name': lambda x: x['task_name'],
-            'task_description': lambda x: x['task_description'],
-        }
-                 | ChatPromptTemplate.from_messages(messages)
-                 | self.llm)
-
-        chain_output = chain.invoke({
-            'tool_pool': tool_pool,
-            'task_name': task_name,
-            'task_description': task_description,
-        })
+        chain = ChatPromptTemplate.from_messages(messages) | self.llm
+
+        chain_output = chain.invoke(
+            {
+                'tool_pool': tool_pool,
+                'task_name': task_name,
+                'task_description': task_description,
+            }
+        )
 
         try:
             all_tool_name = set([tool.tool_name for tool in self.tools])
             output = list(set(eval(chain_output.content)) & all_tool_name)
             return output
         except Exception as e:
             print(e)
```

## bisheng_langchain/gpts/load_tools.py

```diff
@@ -1,22 +1,27 @@
+import json
+import os
 import warnings
 from typing import Any, Callable, Dict, List, Optional, Tuple
 
 import httpx
+import pandas as pd
+import pymysql
 from bisheng_langchain.gpts.tools.api_tools import ALL_API_TOOLS
 from bisheng_langchain.gpts.tools.bing_search.tool import BingSearchRun
 from bisheng_langchain.gpts.tools.calculator.tool import calculator
 from bisheng_langchain.gpts.tools.code_interpreter.tool import CodeInterpreterTool
 
 # from langchain_community.utilities.dalle_image_generator import DallEAPIWrapper
 from bisheng_langchain.gpts.tools.dalle_image_generator.tool import (
     DallEAPIWrapper,
     DallEImageGenerator,
 )
 from bisheng_langchain.gpts.tools.get_current_time.tool import get_current_time
+from dotenv import load_dotenv
 from langchain_community.tools.arxiv.tool import ArxivQueryRun
 from langchain_community.tools.bearly.tool import BearlyInterpreterTool
 from langchain_community.utilities.arxiv import ArxivAPIWrapper
 from langchain_community.utilities.bing_search import BingSearchAPIWrapper
 from langchain_core.callbacks import BaseCallbackManager, Callbacks
 from langchain_core.language_models import BaseLanguageModel
 from langchain_core.tools import BaseTool, Tool
@@ -50,20 +55,22 @@
 
 def _get_bing_search(**kwargs: Any) -> BaseTool:
     return BingSearchRun(api_wrapper=BingSearchAPIWrapper(**kwargs))
 
 
 def _get_dalle_image_generator(**kwargs: Any) -> Tool:
     openai_api_key = kwargs.get('openai_api_key')
+    openai_api_base = kwargs.get('openai_api_base')
     http_async_client = httpx.AsyncClient(proxies=kwargs.get('openai_proxy'))
     httpc_client = httpx.Client(proxies=kwargs.get('openai_proxy'))
     return DallEImageGenerator(
         api_wrapper=DallEAPIWrapper(
             model='dall-e-3',
             api_key=openai_api_key,
+            base_url=openai_api_base,
             http_client=httpc_client,
             http_async_client=http_async_client,
         )
     )
 
 
 def _get_bearly_code_interpreter(**kwargs: Any) -> Tool:
@@ -74,15 +81,15 @@
     return CodeInterpreterTool(**kwargs).as_tool()
 
 
 # 第二个list内填必填参数，第三个list内填可选参数
 _EXTRA_PARAM_TOOLS: Dict[str, Tuple[Callable[[KwArg(Any)], BaseTool], List[Optional[str]], List[Optional[str]]]] = {  # type: ignore
     'dalle_image_generator': (_get_dalle_image_generator, ['openai_api_key', 'openai_proxy'], []),
     'bing_search': (_get_bing_search, ['bing_subscription_key', 'bing_search_url'], []),
-    'code_interpreter': (_get_native_code_interpreter, ["minio"], ['files']),
+    'bisheng_code_interpreter': (_get_native_code_interpreter, ["minio"], ['files']),
 }
 
 _API_TOOLS: Dict[str, Tuple[Callable[[KwArg(Any)], BaseTool], List[str]]] = {**ALL_API_TOOLS}  # type: ignore
 
 _ALL_TOOLS = {
     **_BASE_TOOLS,
     **_LLM_TOOLS,
@@ -155,7 +162,50 @@
             tool.callbacks = callbacks
     return tools
 
 
 def get_all_tool_names() -> List[str]:
     """Get a list of all possible tool names."""
     return list(_ALL_TOOLS.keys())
+
+
+def get_tool_table():
+
+    load_dotenv('.sql_env', override=True)
+    db = pymysql.connect(
+        host=os.getenv('MYSQL_HOST'),
+        user=os.getenv('MYSQL_USER'),
+        password=os.getenv('MYSQL_PASSWORD'),
+        database=os.getenv('MYSQL_DATABASE'),
+        port=int(os.getenv('MYSQL_PORT')),
+    )
+    cursor = db.cursor()
+    cursor.execute("SELECT name, t.desc, tool_key, extra FROM t_gpts_tools as t;")
+    results = cursor.fetchall()
+    db.close()
+    
+    df = pd.DataFrame(
+        columns=[
+            '前端工具名',
+            '前端工具描述',
+            'tool_key',
+            'tool参数配置',
+            'function_name',
+            'function_description',
+            'function_args',
+        ]
+    )
+    for i, result in enumerate(results):
+        name, desc, tool_key, extra = result
+        if not extra:
+            extra = '{}'
+        tool_func = load_tools({tool_key: json.loads(extra)})[0]
+
+        df.loc[i, '前端工具名'] = name
+        df.loc[i, '前端工具描述'] = desc
+        df.loc[i, 'tool_key'] = tool_key
+        df.loc[i, 'tool参数配置'] = extra
+        df.loc[i, 'function_name'] = tool_func.name
+        df.loc[i, 'function_description'] = tool_func.description
+        df.loc[i, 'function_args'] = f"{tool_func.args_schema.schema()['properties']}"
+
+    return df
```

## bisheng_langchain/gpts/prompts/opening_dialog_prompt.py

```diff
@@ -2,15 +2,15 @@
 from langchain_core.prompts.chat import (
     ChatPromptTemplate,
     HumanMessagePromptTemplate,
     SystemMessagePromptTemplate,
 )
 
 system_template = """
-你是一个生成开场白和预置问题的助手。接下来，你会收到一段关于任务助手的描述，你需要带入描述中的角色，以描述中的角色身份生成一段开场白，同时你还需要以描述中的角色身份生成几个预置问题。输出格式如下：
+你是一个生成开场白和预置问题的助手。接下来，你会收到一段关于任务助手的描述，你需要带入描述中的角色，以描述中的角色身份生成一段开场白，同时你还需要站在用户的角度生成几个用户可能的提问。输出格式如下：
 [
     {{
         "开场白": "开场白内容",
         "问题": ["问题1", "问题2", "问题3"]
     }}
 ]
```

## bisheng_langchain/gpts/tools/api_tools/__init__.py

```diff
@@ -36,15 +36,15 @@
 _MACRO_TOOLS: Dict[str, Tuple[Callable[[KwArg(Any)], BaseTool], List[str]]] = {
     f'macro_{name}': (MacroData.get_api_tool, [])
     for name in macro_class_methods
 }
 
 _tmp_flow = ['knowledge_retrieve']
 _TMP_TOOLS: Dict[str, Tuple[Callable[[KwArg(Any)], BaseTool], List[str]]] = {
-    f'flow_{name}': (FlowTools.get_api_tool, ['collection_id'])
+    f'flow_{name}': (FlowTools.get_api_tool, ['collection_id', 'description'])
     for name in _tmp_flow
 }
 ALL_API_TOOLS = {}
 ALL_API_TOOLS.update(_TIAN_YAN_CHA_TOOLS)
 ALL_API_TOOLS.update(_SINA_TOOLS)
 ALL_API_TOOLS.update(_MACRO_TOOLS)
 ALL_API_TOOLS.update(_TMP_TOOLS)
```

## bisheng_langchain/gpts/tools/api_tools/base.py

```diff
@@ -60,31 +60,31 @@
             url = self.url + '?' + param if '?' not in self.url else self.url + '&' + param
         else:
             url = self.url
         logger.info('api_call url={}', url)
         resp = self.client.get(url)
         if resp.status_code != 200:
             logger.info('api_call_fail res={}', resp.text)
-        return resp.text
+        return resp.text[:10000]
 
     async def arun(self, query: str, **kwargs) -> str:
         """Run query through api and parse result."""
         if query:
             self.params[self.input_key] = query
         if kwargs:
             self.params.update(kwargs)
         if self.params:
             param = '&'.join([f'{k}={v}' for k, v in self.params.items()])
             url = self.url + '?' + param if '?' not in self.url else self.url + '&' + param
         else:
             url = self.url
         logger.info('api_call url={}', url)
         resp = await self.async_client.aget(url)
-        logger.info(resp)
-        return resp
+        logger.info(resp[:10000])
+        return resp[:10000]
 
     @classmethod
     def get_api_tool(cls, name, **kwargs: Any) -> BaseTool:
         attr_name = name.split('_', 1)[-1]
         class_method = getattr(cls, attr_name)
 
         return MultArgsSchemaTool(name=name,
```

## bisheng_langchain/gpts/tools/api_tools/flow.py

```diff
@@ -1,12 +1,13 @@
 from loguru import logger
 from pydantic import BaseModel, Field
-
+from typing import Any
 from .base import APIToolBase
-
+from .base import MultArgsSchemaTool
+from langchain_core.tools import BaseTool
 
 class FlowTools(APIToolBase):
 
     def run(self, query: str) -> str:
         """Run query through api and parse result."""
         if query:
             self.params[self.input_key] = {
@@ -30,18 +31,16 @@
         url = self.url
         logger.info('api_call url={}', url)
         resp = await self.async_client.apost(url, json=self.params)
         logger.info(resp)
         return resp
 
     @classmethod
-    def knowledge_retrieve(cls, collection_id: int = None) -> str:
-        """
-        知识库检索工具，从内部知识库进行检索总结
-        """
+    def knowledge_retrieve(cls, collection_id: int = None) -> str:    
+
         flow_id = 'c7985115-a9d2-446a-9c55-40b5728ffb52'
         url = 'http://192.168.106.120:3002/api/v1/process/{}'.format(flow_id)
         input_key = 'inputs'
         params = {
             'tweaks': {
                 'ElasticKeywordsSearch-pFFyR': {
                     'collection_id': collection_id
@@ -51,9 +50,22 @@
                 }
             }
         }
 
         class InputArgs(BaseModel):
             """args_schema"""
             query: str = Field(description='questions to ask')
-
+              
         return cls(url=url, params=params, input_key=input_key, args_schema=InputArgs)
+    
+    @classmethod
+    def get_api_tool(cls, name, **kwargs: Any) -> BaseTool:
+        attr_name = name.split('_', 1)[-1]
+        class_method = getattr(cls, attr_name)
+        function_description = kwargs.get('description','')
+        kwargs.pop('description')
+        return MultArgsSchemaTool(name=name + '_' +str(kwargs.get('collection_id')),
+                                  description=function_description,
+                                  func=class_method(**kwargs).run,
+                                  coroutine=class_method(**kwargs).arun,
+                                  args_schema=class_method(**kwargs).args_schema)
+
```

### encoding

```diff
@@ -1 +1 @@
-utf-8
+us-ascii
```

## bisheng_langchain/gpts/tools/api_tools/macro_data.py

```diff
@@ -77,15 +77,15 @@
 第一产业 GDP 绝对值，（单位：亿元），第一产业同比增长（单位：%），\
 第二产业 GDP 绝对值，（单位：亿元），第二产业同比增长（单位：%），\
 第三产业 GDP 绝对值，（单位：亿元），第三产业同比增长（单位：%）
         """
         JS_CHINA_GDP_YEARLY_URL = 'https://cdn.jin10.com/dc/reports/dc_chinese_gdp_yoy_all.js?v={}&_={}'
         t = time.time()
         r = requests.get(JS_CHINA_GDP_YEARLY_URL.format(str(int(round(t * 1000))), str(int(round(t * 1000)) + 90)))
-        json_data = json.loads(r.text[r.text.find('{') : r.text.rfind('}') + 1])
+        json_data = json.loads(r.text[r.text.find('{'): r.text.rfind('}') + 1])
         date_list = [item['date'] for item in json_data['list']]
         value_list = [item['datas']['中国GDP年率报告'] for item in json_data['list']]
         value_df = pd.DataFrame(value_list)
         value_df.columns = json_data['kinds']
         value_df.index = pd.to_datetime(date_list)
         temp_df = value_df['今值(%)']
         url = 'https://datacenter-api.jin10.com/reports/list_v2'
@@ -246,14 +246,68 @@
         if start_date and end_date:
             start = start_date.split('-')[0] + '年' + start_date.split('-')[1] + '月份'
             end = end_date.split('-')[0] + '年' + end_date.split('-')[1] + '月份'
             temp_df = temp_df[(temp_df['月份'] >= start) & (temp_df['月份'] <= end)]
         return temp_df.to_markdown()
 
     @classmethod
+    def china_pmi(cls, start_date: str = '', end_date: str = '') -> str:
+        """中国 PMI （采购经理人指数）月度统计数据。
+        返回数据包括：月份制造业 PMI，制造业 PMI 同比增长，非制造业 PMI，非制造业 PMI 同比增长。
+        """
+        url = "https://datacenter-web.eastmoney.com/api/data/v1/get"
+        params = {
+            "columns": "REPORT_DATE,TIME,MAKE_INDEX,MAKE_SAME,NMAKE_INDEX,NMAKE_SAME",
+            "pageNumber": "1",
+            "pageSize": "2000",
+            "sortColumns": "REPORT_DATE",
+            "sortTypes": "-1",
+            "source": "WEB",
+            "client": "WEB",
+            "reportName": "RPT_ECONOMY_PMI",
+            "p": "1",
+            "pageNo": "1",
+            "pageNum": "1",
+            "_": "1669047266881",
+        }
+        r = requests.get(url, params=params)
+        data_json = r.json()
+        temp_df = pd.DataFrame(data_json["result"]["data"])
+        temp_df.columns = [
+            "-",
+            "月份",
+            "制造业-指数",
+            "制造业-同比增长",
+            "非制造业-指数",
+            "非制造业-同比增长",
+        ]
+        temp_df = temp_df[
+            [
+                "月份",
+                "制造业-指数",
+                "制造业-同比增长",
+                "非制造业-指数",
+                "非制造业-同比增长",
+            ]
+        ]
+        temp_df["制造业-指数"] = pd.to_numeric(temp_df["制造业-指数"], errors="coerce")
+        temp_df["制造业-同比增长"] = pd.to_numeric(
+            temp_df["制造业-同比增长"], errors="coerce"
+        )
+        temp_df["非制造业-指数"] = pd.to_numeric(temp_df["非制造业-指数"], errors="coerce")
+        temp_df["非制造业-同比增长"] = pd.to_numeric(
+            temp_df["非制造业-同比增长"], errors="coerce"
+        )
+        if start_date and end_date:
+            start = start_date.split('-')[0] + '年' + start_date.split('-')[1] + '月份'
+            end = end_date.split('-')[0] + '年' + end_date.split('-')[1] + '月份'
+            temp_df = temp_df[(temp_df['月份'] >= start) & (temp_df['月份'] <= end)]
+        return temp_df.to_markdown()
+
+    @classmethod
     def china_money_supply(cls, start_date: str = '', end_date: str = '') -> pd.DataFrame:
         """中国货币供应量（M2，M1，M0）月度统计数据。\
 返回月份，M2 数量（单位：亿元），M2 同比（单位：%），\
 M2 环比（单位：%）， M1 数量（单位：亿元），\
 M1 同比（单位：%），M1 环比（单位：%）， \
 M0数量（单位：亿元），M0 同比（单位：%），M0 环比（单位：%）
         """
@@ -373,25 +427,142 @@
             start = start_date.split('-')[0] + '年' + start_date.split('-')[1] + '月份'
             end = end_date.split('-')[0] + '年' + end_date.split('-')[1] + '月份'
             temp_df = temp_df[(temp_df['月份'] >= start) & (temp_df['月份'] <= end)]
 
         return temp_df.to_markdown()
 
     @classmethod
+    def bond_zh_us_rate(cls, start_date: str = "", end_date: str = "") -> str:
+        """
+        本接口返回指定时间段[start_date,end_date]内交易日的中美两国的 2 年、5 年、10 年、30 年、10 年-2 年收益率数据。
+        start_date表示起始日期，end_date表示结束日期，日期格式例如 2024-04-07
+        """
+        url = "https://datacenter.eastmoney.com/api/data/get"
+        params = {
+            "type": "RPTA_WEB_TREASURYYIELD",
+            "sty": "ALL",
+            "st": "SOLAR_DATE",
+            "sr": "-1",
+            "token": "894050c76af8597a853f5b408b759f5d",
+            "p": "1",
+            "ps": "500",
+            "pageNo": "1",
+            "pageNum": "1",
+            "_": "1615791534490",
+        }
+        r = requests.get(url, params=params)
+        data_json = r.json()
+        total_page = data_json["result"]["pages"]
+        big_df = pd.DataFrame()
+        for page in range(1, total_page + 1):
+            params = {
+                "type": "RPTA_WEB_TREASURYYIELD",
+                "sty": "ALL",
+                "st": "SOLAR_DATE",
+                "sr": "-1",
+                "token": "894050c76af8597a853f5b408b759f5d",
+                "p": page,
+                "ps": "500",
+                "pageNo": page,
+                "pageNum": page,
+                "_": "1615791534490",
+            }
+            r = requests.get(url, params=params)
+            data_json = r.json()
+            # 时间过滤
+            if start_date and end_date:
+                temp_data = []
+                for item in data_json["result"]["data"]:
+                    if start_date <= item["SOLAR_DATE"].split(" ")[0] <= end_date:
+                        temp_data.append(item)
+                    elif start_date > item["SOLAR_DATE"].split(" ")[0]:
+                        break
+                    else:
+                        continue
+            else:
+                temp_data = data_json["result"]["data"]
+            temp_df = pd.DataFrame(temp_data)
+            for col in temp_df.columns:
+                if temp_df[col].isnull().all():  # 检查列是否包含 None 或 NaN
+                    temp_df[col] = pd.to_numeric(temp_df[col], errors='coerce')
+            if big_df.empty:
+                big_df = temp_df
+            else:
+                big_df = pd.concat(objs=[big_df, temp_df], ignore_index=True)
+
+        big_df.rename(
+            columns={
+                "SOLAR_DATE": "日期",
+                "EMM00166462": "中国国债收益率5年",
+                "EMM00166466": "中国国债收益率10年",
+                "EMM00166469": "中国国债收益率30年",
+                "EMM00588704": "中国国债收益率2年",
+                "EMM01276014": "中国国债收益率10年-2年",
+                "EMG00001306": "美国国债收益率2年",
+                "EMG00001308": "美国国债收益率5年",
+                "EMG00001310": "美国国债收益率10年",
+                "EMG00001312": "美国国债收益率30年",
+                "EMG01339436": "美国国债收益率10年-2年",
+                "EMM00000024": "中国GDP年增率",
+                "EMG00159635": "美国GDP年增率",
+            },
+            inplace=True,
+        )
+        big_df = big_df[
+            [
+                "日期",
+                "中国国债收益率2年",
+                "中国国债收益率5年",
+                "中国国债收益率10年",
+                "中国国债收益率30年",
+                "中国国债收益率10年-2年",
+                "中国GDP年增率",
+                "美国国债收益率2年",
+                "美国国债收益率5年",
+                "美国国债收益率10年",
+                "美国国债收益率30年",
+                "美国国债收益率10年-2年",
+                "美国GDP年增率",
+            ]
+        ]
+        big_df = big_df.drop(["中国GDP年增率", "美国GDP年增率"], axis=1)
+        big_df["日期"] = pd.to_datetime(big_df["日期"], errors="coerce")
+        big_df["中国国债收益率2年"] = pd.to_numeric(big_df["中国国债收益率2年"], errors="coerce")
+        big_df["中国国债收益率5年"] = pd.to_numeric(big_df["中国国债收益率5年"], errors="coerce")
+        big_df["中国国债收益率10年"] = pd.to_numeric(big_df["中国国债收益率10年"], errors="coerce")
+        big_df["中国国债收益率30年"] = pd.to_numeric(big_df["中国国债收益率30年"], errors="coerce")
+        big_df["中国国债收益率10年-2年"] = pd.to_numeric(big_df["中国国债收益率10年-2年"], errors="coerce")
+        # big_df["中国GDP年增率"] = pd.to_numeric(big_df["中国GDP年增率"], errors="coerce")
+        big_df["美国国债收益率2年"] = pd.to_numeric(big_df["美国国债收益率2年"], errors="coerce")
+        big_df["美国国债收益率5年"] = pd.to_numeric(big_df["美国国债收益率5年"], errors="coerce")
+        big_df["美国国债收益率10年"] = pd.to_numeric(big_df["美国国债收益率10年"], errors="coerce")
+        big_df["美国国债收益率30年"] = pd.to_numeric(big_df["美国国债收益率30年"], errors="coerce")
+        big_df["美国国债收益率10年-2年"] = pd.to_numeric(big_df["美国国债收益率10年-2年"], errors="coerce")
+        # big_df["美国GDP年增率"] = pd.to_numeric(big_df["美国GDP年增率"], errors="coerce")
+        big_df.sort_values("日期", inplace=True)
+        big_df.set_index(["日期"], inplace=True)
+        big_df = big_df[pd.to_datetime(start_date):]
+        big_df.reset_index(inplace=True)
+        big_df["日期"] = pd.to_datetime(big_df["日期"]).dt.date
+        return big_df.to_markdown()
+
+    @classmethod
     def get_api_tool(cls, name: str, **kwargs: Any) -> BaseTool:
         attr_name = name.split('_', 1)[-1]
         class_method = getattr(cls, attr_name)
 
         return MultArgsSchemaTool(name=name, description=class_method.__doc__, func=class_method, args_schema=QueryArg)
 
 
 if __name__ == '__main__':
-    start_date = '2023-01-01'
-    end_date = '2023-05-01'
+    tmp_start_date = '2024-01-01'
+    tmp_end_date = '2024-01-03'
     # start_date = ''
     # end_date = ''
     # print(MacroData.china_ppi(start_date=start_date, end_date=end_date))
     # print(MacroData.china_shrzgm(start_date=start_date, end_date=end_date))
     # print(MacroData.china_consumer_goods_retail(start_date=start_date, end_date=end_date))
     # print(MacroData.china_cpi(start_date=start_date, end_date=end_date))
+    # print(MacroData.china_pmi(start_date=start_date, end_date=end_date))
     # print(MacroData.china_money_supply(start_date=start_date, end_date=end_date))
-    print(MacroData.china_gdp_yearly(start_date=start_date, end_date=end_date))
+    # print(MacroData.china_gdp_yearly(start_date=start_date, end_date=end_date))
+    print(MacroData.bond_zh_us_rate(start_date=tmp_start_date, end_date=tmp_end_date))
```

## bisheng_langchain/gpts/tools/api_tools/sina.py

```diff
@@ -150,15 +150,15 @@
                 if item.get('day') == date:
                     return json.dumps(item)
             return '{}'
 
         resp = super().run(query=stock_number)
         stock = self.devideStock(resp)[0]
         if isinstance(stock, Stock):
-            return json.dumps(stock.__dict__)
+            return json.dumps(stock.__dict__, ensure_ascii=False)
         else:
             return stock
 
     async def arun(self, **kwargs) -> str:
         prefix = 's_' if kwargs.get('prefix', '') == 's_' else ''
         stock_symbol = kwargs.get('stock_symbol', '')
         stock_exchange = kwargs.get('stock_exchange', '')
@@ -179,15 +179,15 @@
                     return json.dumps(item)
 
             return '{}'
         else:
             resp = await super().arun(query=stock_number)
             stock = self.devideStock(resp)[0]
             if isinstance(stock, Stock):
-                return json.dumps(stock.__dict__)
+                return json.dumps(stock.__dict__, ensure_ascii=False)
             else:
                 return stock
 
     @classmethod
     def realtime_info(cls) -> StockInfo:
         """查询中国A股（沪深北交易所）股票或指数的实时行情数据，返回收盘价、涨跌额、涨跌幅、成交量、成交额"""
         url = 'https://hq.sinajs.cn'
```

## bisheng_langchain/gpts/tools/code_interpreter/tool.py

```diff
@@ -1,50 +1,101 @@
+import glob
 import itertools
 import os
 import pathlib
+import re
 import subprocess
 import sys
 import tempfile
 from concurrent.futures import ThreadPoolExecutor, TimeoutError
 from datetime import timedelta
 from hashlib import md5
 from pathlib import Path
 from typing import Dict, List, Optional, Tuple, Type
 from uuid import uuid4
 
-from autogen.code_utils import extract_code, infer_lang
+import matplotlib
 from langchain_community.tools import Tool
 from langchain_core.pydantic_v1 import BaseModel, Field
 from loguru import logger
 
-try:
-    from termcolor import colored
-except ImportError:
-
-    def colored(x, *args, **kwargs):
-        return x
-
-
+CODE_BLOCK_PATTERN = r"```(\w*)\n(.*?)\n```"
 DEFAULT_TIMEOUT = 600
 WIN32 = sys.platform == 'win32'
 PATH_SEPARATOR = WIN32 and '\\' or '/'
 WORKING_DIR = os.path.join(os.path.dirname(os.path.realpath(__file__)), 'extensions')
 TIMEOUT_MSG = 'Timeout'
+UNKNOWN = "unknown"
 
 
 def _cmd(lang):
     if lang.startswith('python') or lang in ['bash', 'sh', 'powershell']:
         return lang
     if lang in ['shell']:
         return 'sh'
     if lang in ['ps1']:
         return 'powershell'
     raise NotImplementedError(f'{lang} not recognized in code execution')
 
 
+def infer_lang(code):
+    """infer the language for the code.
+    TODO: make it robust.
+    """
+    if code.startswith("python ") or code.startswith("pip") or code.startswith("python3 "):
+        return "sh"
+
+    # check if code is a valid python code
+    try:
+        compile(code, "test", "exec")
+        return "python"
+    except SyntaxError:
+        # not a valid python code
+        return UNKNOWN
+
+
+def extract_code(
+    text: str, pattern: str = CODE_BLOCK_PATTERN, detect_single_line_code: bool = False
+) -> List[Tuple[str, str]]:
+    """Extract code from a text.
+
+    Args:
+        text (str): The text to extract code from.
+        pattern (str, optional): The regular expression pattern for finding the
+            code block. Defaults to CODE_BLOCK_PATTERN.
+        detect_single_line_code (bool, optional): Enable the new feature for
+            extracting single line code. Defaults to False.
+
+    Returns:
+        list: A list of tuples, each containing the language and the code.
+          If there is no code block in the input text, the language would be "unknown".
+          If there is code block but the language is not specified, the language would be "".
+    """
+    if not detect_single_line_code:
+        match = re.findall(pattern, text, flags=re.DOTALL)
+        return match if match else [(UNKNOWN, text)]
+
+    # Extract both multi-line and single-line code block, separated by the | operator
+    # `{3}(\w+)?\s*([\s\S]*?)`{3}: Matches multi-line code blocks.
+    #    The (\w+)? matches the language, where the ? indicates it is optional.
+    # `([^`]+)`: Matches inline code.
+    code_pattern = re.compile(r"`{3}(\w+)?\s*([\s\S]*?)`{3}|`([^`]+)`")
+    code_blocks = code_pattern.findall(text)
+
+    # Extract the individual code blocks and languages from the matched groups
+    extracted = []
+    for lang, group1, group2 in code_blocks:
+        if group1:
+            extracted.append((lang.strip(), group1.strip()))
+        elif group2:
+            extracted.append(("", group2.strip()))
+
+    return extracted
+
+
 def execute_code(
     code: Optional[str] = None,
     timeout: Optional[int] = None,
     filename: Optional[str] = None,
     work_dir: Optional[str] = None,
     lang: Optional[str] = 'python',
 ) -> Tuple[int, str, str]:
@@ -117,24 +168,74 @@
     try:
         with open(path, 'r') as f:
             return [str(line) for line in itertools.islice(f, n)]
     except Exception:
         return []
 
 
-def upload_minio(param: dict, bucket: str, object_name: str, file_path, content_type='application/text'):
+def upload_minio(
+    param: dict,
+    bucket: str,
+    object_name: str,
+    file_path,
+    content_type='application/text',
+):
     # 初始化minio
     import minio
 
-    minio_client = minio.Minio(**param)
-    logger.debug('upload_file obj={} bucket={} file_paht={}', object_name, bucket, file_path)
+    minio_client = minio.Minio(
+        endpoint=param.get('MINIO_ENDPOINT'),
+        access_key=param.get('MINIO_ACCESS_KEY'),
+        secret_key=param.get('MINIO_SECRET_KEY'),
+        secure=param.get('SCHEMA'),
+        cert_check=param.get('CERT_CHECK'),
+    )
+    minio_share = minio.Minio(
+        endpoint=param.get('MINIO_SHAREPOIN'),
+        access_key=param.get('MINIO_ACCESS_KEY'),
+        secret_key=param.get('MINIO_SECRET_KEY'),
+        secure=param.get('SCHEMA'),
+        cert_check=param.get('CERT_CHECK'),
+    )
+    logger.debug(
+        'upload_file obj={} bucket={} file_paht={}',
+        object_name,
+        bucket,
+        file_path,
+    )
     minio_client.fput_object(
-        bucket_name=bucket, object_name=object_name, file_path=file_path, content_type=content_type
+        bucket_name=bucket,
+        object_name=object_name,
+        file_path=file_path,
+        content_type=content_type,
+    )
+    return minio_share.presigned_get_object(
+        bucket_name=bucket,
+        object_name=object_name,
+        expires=timedelta(days=7),
     )
-    return minio_client.presigned_get_object(bucket_name=bucket, object_name=object_name, expires=timedelta(days=7))
+
+
+def insert_set_font_code(code: str) -> str:
+    """判断python代码中是否导入了matplotlib库，如果有则插入设置字体的代码"""
+
+    split_code = code.split('\n')
+    cache_file = matplotlib.get_cachedir()
+    font_cache = glob.glob(f'{cache_file}/fontlist*')
+
+    for cache in font_cache:
+        os.remove(cache)
+
+    # todo: 如果生成的代码中已经有了设置字体的代码，可能会导致该段代码失效
+    if 'matplotlib' in code:
+        pattern = re.compile(r'(import matplotlib|from matplotlib)')
+        index = max(i for i, line in enumerate(split_code) if pattern.search(line))
+        split_code.insert(index + 1, 'import matplotlib\nmatplotlib.rc("font", family="WenQuanYi Zen Hei")')
+
+    return '\n'.join(split_code)
 
 
 class CodeInterpreterToolArguments(BaseModel):
     """Arguments for the BearlyInterpreterTool."""
 
     python_code: str = Field(
         ...,
@@ -165,15 +266,15 @@
     source_path: str
     description: str
 
 
 class CodeInterpreterTool:
     """Tool for evaluating python code in native environment."""
 
-    name = 'code_interpreter'
+    name = 'bisheng_code_interpreter'
     args_schema: Type[BaseModel] = CodeInterpreterToolArguments
 
     def __init__(
         self,
         minio: Dict[str, any],
         files: Dict[str, FileInfo] = None,
     ) -> None:
@@ -200,26 +301,27 @@
     def _run(self, code_string: str) -> dict:
         code_blocks = extract_code(code_string)
         logs_all = ''
         file_list = []
         for i, code_block in enumerate(code_blocks):
             lang, code = code_block
             lang = infer_lang(code)
+            code = insert_set_font_code(code)
             temp_dir = tempfile.TemporaryDirectory()
             exitcode, logs, _ = execute_code(
                 code,
                 work_dir=temp_dir.name,
                 lang=lang,
             )
             logs_all += '\n' + logs
             if exitcode != 0:
                 return {'exitcode': exitcode, 'log': logs_all}
 
             # 获取文件
-            temp_output_dir = Path(temp_dir.name) / 'output'
+            temp_output_dir = Path(temp_dir.name)
             for root, dirs, files in os.walk(temp_output_dir):
                 for name in files:
                     file_name = os.path.join(root, name)
                     if self.minio:
                         file_type = file_name.rsplit('.', 1)[-1]
                         object_name = uuid4().hex
                         file_list.append(upload_minio(self.minio, 'bisheng', f'{object_name}.{file_type}', file_name))
@@ -232,30 +334,7 @@
     def as_tool(self) -> Tool:
         return Tool.from_function(
             func=self._run,
             name=self.name,
             description=self.description,
             args_schema=self.args_schema,
         )
-
-
-if __name__ == '__main__':
-    code_string = """print('hha')"""
-    code_blocks = extract_code(code_string)
-    logger.info(code_blocks)
-    logs_all = ''
-    for i, code_block in enumerate(code_blocks):
-        lang, code = code_block
-        lang = infer_lang(code)
-        print(
-            colored(
-                f'\n>>>>>>>> EXECUTING CODE BLOCK {i} (inferred language is {lang})...',
-                'red',
-            ),
-            flush=True,
-        )
-        exitcode, logs, image = execute_code(code, lang=lang)
-        logs_all += '\n' + logs
-        if exitcode != 0:
-            logger.error(f'{exitcode}, {logs_all}')
-
-    logger.info(logs_all)
```

## Comparing `bisheng_langchain-0.3.0rc0.dist-info/METADATA` & `bisheng_langchain-0.3.0rc1.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: bisheng-langchain
-Version: 0.3.0rc0
+Version: 0.3.0rc1
 Summary: bisheng langchain modules
 Home-page: https://github.com/dataelement/bisheng
 Author: DataElem
 Author-email: contact@dataelem.com
 License: Apache 2.0
 Platform: UNKNOWN
 Classifier: Programming Language :: Python :: 3
```

## Comparing `bisheng_langchain-0.3.0rc0.dist-info/RECORD` & `bisheng_langchain-0.3.0rc1.dist-info/RECORD`

 * *Files 3% similar despite different names*

```diff
@@ -24,15 +24,15 @@
 bisheng_langchain/chains/question_answering/__init__.py,sha256=_gOZMc-SWprK6xc-Jj64jcr9nc-G4YkZbEYwfJNq_bY,8795
 bisheng_langchain/chains/retrieval/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 bisheng_langchain/chains/retrieval/retrieval_chain.py,sha256=7VLJ-IPVjKfmAVgVET4cvKCO9DCMxwsGgVhW-wz5RZM,3050
 bisheng_langchain/chains/router/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 bisheng_langchain/chains/router/multi_rule.py,sha256=BiFryj3-7rOxfttD-MyOkKWLCSGB9LVYd2rjOsIfQC8,375
 bisheng_langchain/chains/router/rule_router.py,sha256=R2YRUnwn7s_7DbsSn27uPn4cIV0D-5iXEORXir0tNGM,1835
 bisheng_langchain/chat_models/__init__.py,sha256=4-HTLE_SXO4hmNJu6yQxiQKBt2IFca_ezllVBLmvbEE,635
-bisheng_langchain/chat_models/host_llm.py,sha256=sBu_Vg-r7z6IJUV8Etwll4JTG5OvET-IXH7PZw8Ijrc,23152
+bisheng_langchain/chat_models/host_llm.py,sha256=35_jTdUm85mk-t2MARZYGC8dIPVtf5XXlGfFE6hQ1Gc,23153
 bisheng_langchain/chat_models/minimax.py,sha256=JLs_f6vWD9beZYUtjD4FG28G8tZHrGUAWOwdLIuJomw,13901
 bisheng_langchain/chat_models/proxy_llm.py,sha256=wzVBZik9WC3-f7kyQ1eu3Ooibqpcocln08knf5lV1Nw,17082
 bisheng_langchain/chat_models/qwen.py,sha256=W73KxDRQBUZEzttEM4K7ZzPqbN-82O6YQmpX-HB_wZU,19971
 bisheng_langchain/chat_models/sensetime.py,sha256=fuQ5yYGO5F7o7iQ7us17MlL4TAWRRFCCpNN9bAF-ydc,17056
 bisheng_langchain/chat_models/wenxin.py,sha256=OBXmFWkUWZMu1lUz6hPAEawsbAcdgMWcm9WkJJLZyng,13671
 bisheng_langchain/chat_models/xunfeiai.py,sha256=Yz09-I8u6XhGVnT5mdel15Z3CCQZqApJkgnaxyiZNFk,14037
 bisheng_langchain/chat_models/zhipuai.py,sha256=MgN8pFInUB6q5agZSnAOipYxTIxAAGhh-Zq6NXs9Hxc,15342
@@ -62,40 +62,40 @@
 bisheng_langchain/embeddings/huggingfacemultilingual.py,sha256=g7-yKJ-qIPUZQaRnGz312S-f3aJCGcdHemAR3znE-uo,3415
 bisheng_langchain/embeddings/wenxin.py,sha256=6zx53tSUguvny4gGe5CTmfwV-QtGqKmcT-Jlgf2xVUs,4737
 bisheng_langchain/embeddings/interface/__init__.py,sha256=GNY3tibpRxpAdAfSvQmXBKo0xKSLke_9y4clofi_WOE,98
 bisheng_langchain/embeddings/interface/types.py,sha256=VdurbtsnjCPdlOjPFcK2Mg6r9bJYYHb3tepvkk-y3nM,461
 bisheng_langchain/embeddings/interface/wenxin.py,sha256=5d9gI4enmfkD80s0FHKiDt33O0mwM8Xc5WTubnMUy8c,3104
 bisheng_langchain/gpts/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 bisheng_langchain/gpts/assistant.py,sha256=KCYPU1Bs4GtWcLk9Ya2NuQyXE0Twn7-92eSBTIzpq7I,5083
-bisheng_langchain/gpts/auto_optimization.py,sha256=Vf3zzYEpVf916dYt4RV9E1uw4vTXjE7ZXogUIdxjHYU,3786
-bisheng_langchain/gpts/auto_tool_selected.py,sha256=25lFLadqQ36t63EKMEF3zJOG_jkoRB9IfP5eRkY1JZo,1777
-bisheng_langchain/gpts/load_tools.py,sha256=C7tlRLy4wAArr9qtkRl9dW6QXdspLLbcv0UvulW9A9U,6345
+bisheng_langchain/gpts/auto_optimization.py,sha256=WNsC19rgvuDYQlSIaYThq5RqCbuobDbzCwAJW4Ksw0c,3626
+bisheng_langchain/gpts/auto_tool_selected.py,sha256=21WETf9o0YS-QEBwv3mmZRObKWszefQkXEqAA6KzoaM,1582
+bisheng_langchain/gpts/load_tools.py,sha256=JZpwTH5cvaLdab8-TbTxBGHug-llnCQR0wB4VsduSrs,7871
 bisheng_langchain/gpts/message_types.py,sha256=7EJOx62j9E1U67jxWgxE_I7a8IjAvvKANknXkD2gFm0,213
 bisheng_langchain/gpts/utils.py,sha256=t3YDxaJ0OYd6EKsek7PJFRYnsezwzEFK5oVU-PRbu5g,6671
 bisheng_langchain/gpts/agent_types/__init__.py,sha256=bg0zlTYGfNXoSBqcICHlzNpVQbejMYeyji_dzvP5qQ0,261
 bisheng_langchain/gpts/agent_types/llm_functions_agent.py,sha256=ynFHXuaqABeiKvhcetOFQPyQMlNtEAdtTccoIwiJbGQ,8419
 bisheng_langchain/gpts/prompts/__init__.py,sha256=IfuoxVpsSLKJtDx0aJbRgnSZYZr_kDPsL92CvefzF-s,568
 bisheng_langchain/gpts/prompts/assistant_prompt_opt.py,sha256=TZsRK4XPMrUhGg0PoMyiE3wE-aG34UmlVflkCl_c0QI,4151
 bisheng_langchain/gpts/prompts/base_prompt.py,sha256=v2eO0c6RF8e6MtGdleHs5B4YTkikg6IZUuBvL2zvyOI,55
 bisheng_langchain/gpts/prompts/breif_description_prompt.py,sha256=w4A5et0jB-GkxEMQBp4i6GKX3RkVeu7NzWEjOZZAicM,5336
-bisheng_langchain/gpts/prompts/opening_dialog_prompt.py,sha256=U6SDslWuXAB1ZamLZVujpEjAY8L244IZfD2qFVRTzPM,5962
+bisheng_langchain/gpts/prompts/opening_dialog_prompt.py,sha256=VVF0JLHtetupVB0kabiFHWDHlQaa4nFLcbYXgIBA3nw,5965
 bisheng_langchain/gpts/prompts/select_tools_prompt.py,sha256=AyvVnrLEsQy7RHuGTPkcrMUxgA98Q0TzF-xweoc7GyY,1400
 bisheng_langchain/gpts/tools/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-bisheng_langchain/gpts/tools/api_tools/__init__.py,sha256=mrmTV5bT5R1mEx9hbMAWKzNAAC4EL6biNn53dx5lYsc,1593
-bisheng_langchain/gpts/tools/api_tools/base.py,sha256=t0gFRiXD-2InCHNDU_T1H0eSMXsWP_2sHBeLJ0bZOkc,3594
-bisheng_langchain/gpts/tools/api_tools/flow.py,sha256=u1_ASWlCcZarKR-293kACB_qQ1RzJuzPC3YZSl2JR-E,1814
-bisheng_langchain/gpts/tools/api_tools/macro_data.py,sha256=rlFNhjJ3HEHfWeW9Wqb27eeF1Q1Qmd2SA8VfgUK4ACs,19270
-bisheng_langchain/gpts/tools/api_tools/sina.py,sha256=tY4MXHNBEUiBN1wld2un_w7nHW_njXV7haLo3sgpDf0,9502
+bisheng_langchain/gpts/tools/api_tools/__init__.py,sha256=CkEjgIFM4GIv86V1B7SsFLaB6M86c54QuO8wIRizUZ8,1608
+bisheng_langchain/gpts/tools/api_tools/base.py,sha256=fWQSDIOVb4JZrtJ9ML9q2ycsAa-_61gXTD0MT19J1LM,3618
+bisheng_langchain/gpts/tools/api_tools/flow.py,sha256=rHCRpaafriQomMaOqSeKjPXwVUO_nAsFDNRIjOofbuI,2486
+bisheng_langchain/gpts/tools/api_tools/macro_data.py,sha256=FyG-qtl2ECS1CDKt6olN0eDTDM91d-UvDkMDBiVLgYQ,27429
+bisheng_langchain/gpts/tools/api_tools/sina.py,sha256=GGA4ZYvNEpqBZ_l8MUYqgkI8xZe9XcGa9-KlHZVqr6I,9542
 bisheng_langchain/gpts/tools/api_tools/tianyancha.py,sha256=abDAz-yAH1-2rKiSmZ6TgnrNUnpgAZpDY8oDiWfWapc,6684
 bisheng_langchain/gpts/tools/bing_search/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 bisheng_langchain/gpts/tools/bing_search/tool.py,sha256=v_VlqcMplITA5go5qWA4qZ5p43E1-1s0bzmyY7H0hqY,1710
 bisheng_langchain/gpts/tools/calculator/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 bisheng_langchain/gpts/tools/calculator/tool.py,sha256=iwGPE7jvxZg_jUL2Aq9HHwnRJrF9-ongwrsBX6uk1U0,705
 bisheng_langchain/gpts/tools/code_interpreter/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-bisheng_langchain/gpts/tools/code_interpreter/tool.py,sha256=PGipxd-qtW31GonRGfGow7nylI-osSnmBsvEJDlMUCE,8717
+bisheng_langchain/gpts/tools/code_interpreter/tool.py,sha256=1VLkgngRR0k8YjA4eYkfPd1E7fD29tMKpqtCtn7WwYE,11443
 bisheng_langchain/gpts/tools/dalle_image_generator/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 bisheng_langchain/gpts/tools/dalle_image_generator/tool.py,sha256=mhxdNNhBESjbOy30Rnp6hQhnrV4evQpv-B1fFXcU-68,7528
 bisheng_langchain/gpts/tools/get_current_time/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 bisheng_langchain/gpts/tools/get_current_time/tool.py,sha256=3uvk7Yu07qhZy1sBrFMhGEwyxEGMB8vubizs9x-6DG8,801
 bisheng_langchain/input_output/__init__.py,sha256=sW_GB7MlrHYsqY1Meb_LeimQqNsMz1gH-00Tqb2BUyM,153
 bisheng_langchain/input_output/input.py,sha256=I5YDmgbvvj1o2lO9wi8LE37wM0wP5jkhUREU32YrZMQ,1094
 bisheng_langchain/input_output/output.py,sha256=6U-az6-Cwz665C2YmcH3SYctWVjPFjmW8s70CA_qphk,11585
@@ -104,11 +104,11 @@
 bisheng_langchain/retrievers/mix_es_vector.py,sha256=dSrrsuMPSgGiu181EOzACyIKiDXR0qNBQz_914USD3E,4465
 bisheng_langchain/utils/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 bisheng_langchain/utils/requests.py,sha256=vWGKyNTxApVeaVdKxqACfIT1Q8wMy-jC3kUv2Ce9Mzc,8688
 bisheng_langchain/vectorstores/__init__.py,sha256=zCZgDe7LyQ0iDkfcm5UJ5NxwKQSRHnqrsjx700Fy11M,213
 bisheng_langchain/vectorstores/elastic_keywords_search.py,sha256=JV_GM40cYx0PtPPvH2JYxtsMV0psSW2CDKagpR4M_0o,13286
 bisheng_langchain/vectorstores/milvus.py,sha256=lrnezKnYXhyH5M1g3a-Mcwpj9mwzAj44TKmzyUXlQYY,36297
 bisheng_langchain/vectorstores/retriever.py,sha256=hj4nAAl352EV_ANnU2OHJn7omCH3nBK82ydo14KqMH4,4353
-bisheng_langchain-0.3.0rc0.dist-info/METADATA,sha256=-wUMNJfiSIK6i3D9pP74PdmDKuLtDcrW3BcNpNzqv1A,2414
-bisheng_langchain-0.3.0rc0.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
-bisheng_langchain-0.3.0rc0.dist-info/top_level.txt,sha256=Z6pPNyCo4ihyr9iqGQbH8sJiC4dAUwA_mAyGRQB5_Fs,18
-bisheng_langchain-0.3.0rc0.dist-info/RECORD,,
+bisheng_langchain-0.3.0rc1.dist-info/METADATA,sha256=vHWUJcrt2hO4QpW5o0Al8bn23d6c3zpm9yf_2NWGEmE,2414
+bisheng_langchain-0.3.0rc1.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
+bisheng_langchain-0.3.0rc1.dist-info/top_level.txt,sha256=Z6pPNyCo4ihyr9iqGQbH8sJiC4dAUwA_mAyGRQB5_Fs,18
+bisheng_langchain-0.3.0rc1.dist-info/RECORD,,
```

