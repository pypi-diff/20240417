# Comparing `tmp/datarobot_model_metrics-0.5.5-py2.py3-none-any.whl.zip` & `tmp/datarobot_model_metrics-0.5.6-py2.py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,34 +1,35 @@
-Zip file size: 56765 bytes, number of entries: 32
--rw-r--r--  2.0 unx      637 b- defN 24-Apr-16 06:41 dmm/__init__.py
--rw-r--r--  2.0 unx    10115 b- defN 24-Apr-16 06:41 dmm/batch_metric_evaluator.py
--rw-r--r--  2.0 unx     2123 b- defN 24-Apr-16 06:41 dmm/constants.py
--rw-r--r--  2.0 unx    10806 b- defN 24-Apr-16 06:41 dmm/custom_metric.py
--rw-r--r--  2.0 unx    16633 b- defN 24-Apr-16 06:41 dmm/datarobot_api_client.py
--rw-r--r--  2.0 unx     7206 b- defN 24-Apr-16 06:41 dmm/example_data_helper.py
--rw-r--r--  2.0 unx      545 b- defN 24-Apr-16 06:41 dmm/exceptions.py
--rw-r--r--  2.0 unx    18191 b- defN 24-Apr-16 06:41 dmm/metric_evaluator.py
--rw-r--r--  2.0 unx     3680 b- defN 24-Apr-16 06:41 dmm/time_bucket.py
--rw-r--r--  2.0 unx     4201 b- defN 24-Apr-16 06:41 dmm/utils.py
--rw-r--r--  2.0 unx      980 b- defN 24-Apr-16 06:41 dmm/data_source/__init__.py
--rw-r--r--  2.0 unx     2348 b- defN 24-Apr-16 06:41 dmm/data_source/data_source_base.py
--rw-r--r--  2.0 unx     3161 b- defN 24-Apr-16 06:41 dmm/data_source/dataframe_source.py
--rw-r--r--  2.0 unx    59608 b- defN 24-Apr-16 06:41 dmm/data_source/datarobot_source.py
--rw-r--r--  2.0 unx     3255 b- defN 24-Apr-16 06:41 dmm/data_source/generator_source.py
--rw-r--r--  2.0 unx     1515 b- defN 24-Apr-16 06:41 dmm/data_source/runtime_parameters_source.py
--rw-r--r--  2.0 unx      252 b- defN 24-Apr-16 06:41 dmm/data_source/datarobot/__init__.py
--rw-r--r--  2.0 unx     5434 b- defN 24-Apr-16 06:41 dmm/data_source/datarobot/deployment.py
--rw-r--r--  2.0 unx     5495 b- defN 24-Apr-16 06:41 dmm/data_source/datarobot/export_provider.py
--rw-r--r--  2.0 unx      428 b- defN 24-Apr-16 06:41 dmm/dr_custom_metrics/__init__.py
--rw-r--r--  2.0 unx     1667 b- defN 24-Apr-16 06:41 dmm/dr_custom_metrics/deployment_event_reporter.py
--rw-r--r--  2.0 unx     8764 b- defN 24-Apr-16 06:41 dmm/dr_custom_metrics/dr_custom_metric.py
--rw-r--r--  2.0 unx      711 b- defN 24-Apr-16 06:41 dmm/metric/__init__.py
--rw-r--r--  2.0 unx     1872 b- defN 24-Apr-16 06:41 dmm/metric/asymmetric_error.py
--rw-r--r--  2.0 unx      572 b- defN 24-Apr-16 06:41 dmm/metric/median_absolute_error.py
--rw-r--r--  2.0 unx     4424 b- defN 24-Apr-16 06:41 dmm/metric/metric_base.py
--rw-r--r--  2.0 unx     1209 b- defN 24-Apr-16 06:41 dmm/metric/missing_values.py
--rw-r--r--  2.0 unx     2302 b- defN 24-Apr-16 06:41 dmm/metric/sklearn_metric.py
--rw-r--r--  2.0 unx    40827 b- defN 24-Apr-16 06:43 datarobot_model_metrics-0.5.5.dist-info/METADATA
--rw-r--r--  2.0 unx      110 b- defN 24-Apr-16 06:43 datarobot_model_metrics-0.5.5.dist-info/WHEEL
--rw-r--r--  2.0 unx        4 b- defN 24-Apr-16 06:43 datarobot_model_metrics-0.5.5.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     2783 b- defN 24-Apr-16 06:43 datarobot_model_metrics-0.5.5.dist-info/RECORD
-32 files, 221858 bytes uncompressed, 52275 bytes compressed:  76.4%
+Zip file size: 59694 bytes, number of entries: 33
+-rw-r--r--  2.0 unx      737 b- defN 24-Apr-17 12:45 dmm/__init__.py
+-rw-r--r--  2.0 unx    10115 b- defN 24-Apr-17 12:45 dmm/batch_metric_evaluator.py
+-rw-r--r--  2.0 unx     2123 b- defN 24-Apr-17 12:45 dmm/constants.py
+-rw-r--r--  2.0 unx    10816 b- defN 24-Apr-17 12:45 dmm/custom_metric.py
+-rw-r--r--  2.0 unx    16633 b- defN 24-Apr-17 12:45 dmm/datarobot_api_client.py
+-rw-r--r--  2.0 unx     7206 b- defN 24-Apr-17 12:45 dmm/example_data_helper.py
+-rw-r--r--  2.0 unx      545 b- defN 24-Apr-17 12:45 dmm/exceptions.py
+-rw-r--r--  2.0 unx    10084 b- defN 24-Apr-17 12:45 dmm/individual_metric_evaluator.py
+-rw-r--r--  2.0 unx    18191 b- defN 24-Apr-17 12:45 dmm/metric_evaluator.py
+-rw-r--r--  2.0 unx     3680 b- defN 24-Apr-17 12:45 dmm/time_bucket.py
+-rw-r--r--  2.0 unx     4201 b- defN 24-Apr-17 12:45 dmm/utils.py
+-rw-r--r--  2.0 unx      980 b- defN 24-Apr-17 12:45 dmm/data_source/__init__.py
+-rw-r--r--  2.0 unx     2348 b- defN 24-Apr-17 12:45 dmm/data_source/data_source_base.py
+-rw-r--r--  2.0 unx     3424 b- defN 24-Apr-17 12:45 dmm/data_source/dataframe_source.py
+-rw-r--r--  2.0 unx    59608 b- defN 24-Apr-17 12:45 dmm/data_source/datarobot_source.py
+-rw-r--r--  2.0 unx     3255 b- defN 24-Apr-17 12:45 dmm/data_source/generator_source.py
+-rw-r--r--  2.0 unx     1515 b- defN 24-Apr-17 12:45 dmm/data_source/runtime_parameters_source.py
+-rw-r--r--  2.0 unx      252 b- defN 24-Apr-17 12:45 dmm/data_source/datarobot/__init__.py
+-rw-r--r--  2.0 unx     5434 b- defN 24-Apr-17 12:45 dmm/data_source/datarobot/deployment.py
+-rw-r--r--  2.0 unx     5495 b- defN 24-Apr-17 12:45 dmm/data_source/datarobot/export_provider.py
+-rw-r--r--  2.0 unx      428 b- defN 24-Apr-17 12:45 dmm/dr_custom_metrics/__init__.py
+-rw-r--r--  2.0 unx     1667 b- defN 24-Apr-17 12:45 dmm/dr_custom_metrics/deployment_event_reporter.py
+-rw-r--r--  2.0 unx     8764 b- defN 24-Apr-17 12:45 dmm/dr_custom_metrics/dr_custom_metric.py
+-rw-r--r--  2.0 unx      711 b- defN 24-Apr-17 12:45 dmm/metric/__init__.py
+-rw-r--r--  2.0 unx     1872 b- defN 24-Apr-17 12:45 dmm/metric/asymmetric_error.py
+-rw-r--r--  2.0 unx      572 b- defN 24-Apr-17 12:45 dmm/metric/median_absolute_error.py
+-rw-r--r--  2.0 unx     4946 b- defN 24-Apr-17 12:45 dmm/metric/metric_base.py
+-rw-r--r--  2.0 unx     1209 b- defN 24-Apr-17 12:45 dmm/metric/missing_values.py
+-rw-r--r--  2.0 unx     2302 b- defN 24-Apr-17 12:45 dmm/metric/sklearn_metric.py
+-rw-r--r--  2.0 unx    40827 b- defN 24-Apr-17 12:47 datarobot_model_metrics-0.5.6.dist-info/METADATA
+-rw-r--r--  2.0 unx      110 b- defN 24-Apr-17 12:47 datarobot_model_metrics-0.5.6.dist-info/WHEEL
+-rw-r--r--  2.0 unx        4 b- defN 24-Apr-17 12:47 datarobot_model_metrics-0.5.6.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     2875 b- defN 24-Apr-17 12:47 datarobot_model_metrics-0.5.6.dist-info/RECORD
+33 files, 232929 bytes uncompressed, 55060 bytes compressed:  76.4%
```

## zipnote {}

```diff
@@ -15,14 +15,17 @@
 
 Filename: dmm/example_data_helper.py
 Comment: 
 
 Filename: dmm/exceptions.py
 Comment: 
 
+Filename: dmm/individual_metric_evaluator.py
+Comment: 
+
 Filename: dmm/metric_evaluator.py
 Comment: 
 
 Filename: dmm/time_bucket.py
 Comment: 
 
 Filename: dmm/utils.py
@@ -78,20 +81,20 @@
 
 Filename: dmm/metric/missing_values.py
 Comment: 
 
 Filename: dmm/metric/sklearn_metric.py
 Comment: 
 
-Filename: datarobot_model_metrics-0.5.5.dist-info/METADATA
+Filename: datarobot_model_metrics-0.5.6.dist-info/METADATA
 Comment: 
 
-Filename: datarobot_model_metrics-0.5.5.dist-info/WHEEL
+Filename: datarobot_model_metrics-0.5.6.dist-info/WHEEL
 Comment: 
 
-Filename: datarobot_model_metrics-0.5.5.dist-info/top_level.txt
+Filename: datarobot_model_metrics-0.5.6.dist-info/top_level.txt
 Comment: 
 
-Filename: datarobot_model_metrics-0.5.5.dist-info/RECORD
+Filename: datarobot_model_metrics-0.5.6.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## dmm/__init__.py

```diff
@@ -8,19 +8,21 @@
 # This is proprietary source code of DataRobot, Inc. and its
 # affiliates.
 #
 # Released under the terms of DataRobot Tool and Utility Agreement.
 from __future__ import absolute_import
 
 from .constants import ColumnName, TimeBucket
+from .individual_metric_evaluator import IndividualMetricEvaluator
 from .metric.metric_base import DataMetricBase, ModelMetricBase
 from .metric.sklearn_metric import SklearnMetric
 from .metric_evaluator import MetricEvaluator
 
 __all__ = [
     "TimeBucket",
     "ColumnName",
     "MetricEvaluator",
+    "IndividualMetricEvaluator",
     "ModelMetricBase",
     "DataMetricBase",
     "SklearnMetric",
 ]
```

## dmm/custom_metric.py

```diff
@@ -241,18 +241,18 @@
                     bucket["timestamp"] = result.timestamp.isoformat()
                 else:
                     bucket["timestamp"] = dateutil.parser.parse(
                         result.timestamp
                     ).isoformat()
 
             if result.batch_id:
-                bucket["batch"] = result.batch_id
+                bucket["batch"] = str(result.batch_id)
 
             if result.association_id:
-                bucket["associationId"] = result.association_id
+                bucket["associationId"] = str(result.association_id)
 
             buckets.append(bucket)
 
         if len(buckets) > MAX_BUCKETS_NUMBER_PER_REQUEST:
             chunks = chunk_list(buckets, MAX_BUCKETS_NUMBER_PER_REQUEST)
         else:
             chunks = [buckets]
```

## dmm/data_source/dataframe_source.py

```diff
@@ -89,7 +89,15 @@
             ):
                 rows_list.append(self._df.iloc[loc].to_dict())
                 self._current_row += 1
             else:
                 break
 
         return pd.DataFrame(rows_list), self._current_chunk_id
+
+    def get_all_data(self) -> pd.DataFrame:
+        result, chunk_id = self.get_data()
+        while chunk_id != -1:
+            df, chunk_id = self.get_data()
+            if df is not None:
+                result = pd.concat([result, df])
+        return result
```

## dmm/metric/metric_base.py

```diff
@@ -5,17 +5,21 @@
 #
 # DataRobot, Inc.
 #
 # This is proprietary source code of DataRobot, Inc. and its
 # affiliates.
 #
 # Released under the terms of DataRobot Tool and Utility Agreement.
+from typing import List, Union
+
 import numpy as np
 import pandas as pd
 
+from dmm.custom_metric import SingleMetricResult
+
 
 class MetricBase(object):
     def __init__(
         self,
         name: str,
         description: str = None,
         need_predictions: bool = False,
@@ -77,17 +81,19 @@
         return None
 
     def score(
         self,
         scoring_data: pd.DataFrame,
         predictions: np.array,
         actuals: np.array,
+        timestamps: np.array,
+        association_ids: np.array,
         fit_ctx=None,
         metadata=None,
-    ) -> float:
+    ) -> Union[float, List[SingleMetricResult]]:
         raise NotImplemented
 
     def reduce_func(self) -> callable:
         return np.mean
 
 
 class ModelMetricBase(MetricBase):
@@ -103,18 +109,20 @@
             need_training_data=need_training_data,
         )
 
     def score(
         self,
         predictions: np.array,
         actuals: np.array,
-        fit_context=None,
+        timestamps: np.array,
+        association_ids: np.array,
+        scoring_data: pd.DataFrame = None,
+        fit_ctx=None,
         metadata=None,
-        scoring_data=None,
-    ) -> float:
+    ) -> Union[float, List[SingleMetricResult]]:
         raise NotImplemented
 
 
 class DataMetricBase(MetricBase):
     def __init__(
         self, name: str, description: str = None, need_training_data: bool = False
     ):
@@ -126,19 +134,21 @@
             need_actuals=False,
             need_training_data=need_training_data,
         )
 
     def score(
         self,
         scoring_data: pd.DataFrame,
+        timestamps: np.array,
+        association_ids: np.array,
+        predictions: np.array = None,
+        actuals: np.array = None,
         fit_ctx=None,
         metadata=None,
-        predictions=None,
-        actuals=None,
-    ) -> float:
+    ) -> Union[float, List[SingleMetricResult]]:
         raise NotImplemented
 
 
 class LLMMetricBase(MetricBase):
     def __init__(
         self, name: str, description: str = None, need_training_data: bool = False
     ):
@@ -151,12 +161,14 @@
             need_training_data=need_training_data,
         )
 
     def score(
         self,
         scoring_data: pd.DataFrame,
         predictions: np.array,
+        timestamps: np.array,
+        association_ids: np.array,
+        actuals: np.array = None,
         fit_ctx=None,
         metadata=None,
-        actuals=None,
-    ) -> float:
+    ) -> Union[float, List[SingleMetricResult]]:
         raise NotImplemented
```

## Comparing `datarobot_model_metrics-0.5.5.dist-info/METADATA` & `datarobot_model_metrics-0.5.6.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: datarobot-model-metrics
-Version: 0.5.5
+Version: 0.5.6
 Summary: datarobot-model-metrics provides a framework to compute model ML metrics over time and produce aggregated metrics.
 Home-page: https://github.com/datarobot/datarobot-model-metrics
 Author: DataRobot
 Author-email: info@datarobot.com
 License: DataRobot
 Platform: UNKNOWN
 Classifier: Programming Language :: Python :: 3
```

## Comparing `datarobot_model_metrics-0.5.5.dist-info/RECORD` & `datarobot_model_metrics-0.5.6.dist-info/RECORD`

 * *Files 7% similar despite different names*

```diff
@@ -1,32 +1,33 @@
-dmm/__init__.py,sha256=aOh7b_vX80N1OpYTBK6iDhHd-dLPBQhuMmC74VMYwwI,637
+dmm/__init__.py,sha256=ARSrJk4uk4Ey-7xeVc_zsuR42rxC7wRPv5zXW8fHoE8,737
 dmm/batch_metric_evaluator.py,sha256=1B_r6wuiclaYsG9ku9lmralnL944M9P_pi2lj4wLPEo,10115
 dmm/constants.py,sha256=kA7PLpdv4p63Ks4qa-pqI9-qKQG1E7RRcRzYC3QY9Vw,2123
-dmm/custom_metric.py,sha256=NxvWxJuKUONUAIjDIxE7j6DcYfdj4dqn3O80MVOFx_g,10806
+dmm/custom_metric.py,sha256=9-3bX5Qvaxqg_0WIMfswxW2GSdzN3OAHasplfnt4mkI,10816
 dmm/datarobot_api_client.py,sha256=cMloeC4kcv3_9vxJNWmimJfYGiASZUC5s-_BrzUukyU,16633
 dmm/example_data_helper.py,sha256=ar8_YARtH-_W078lRrNrDNxTNm5q9rAPjvOWfL7mNyU,7206
 dmm/exceptions.py,sha256=0IgGfrXQ_PPry9O6ctZSBFrmU_l4MaKjRwjhG0EVweQ,545
+dmm/individual_metric_evaluator.py,sha256=1hpWfpwIc4s9CpmW3U1sc81z5HfSw4cgB6mjGrWVZ-4,10084
 dmm/metric_evaluator.py,sha256=zeTAyyuBfxo35U9yBxEtyMx5KIIu7LO6Bz8b2yYQXY0,18191
 dmm/time_bucket.py,sha256=Q5TDguUfQJld6kvZkgBfvM2-9UMRxKB-8XER5x-Cvbw,3680
 dmm/utils.py,sha256=rXnJLqLjv34KeFoikN0FDF9A0TfBERPgvY7qpJhAOVw,4201
 dmm/data_source/__init__.py,sha256=kHvEX3_rIuhNdvYYcxAqFQcHJTIJBDYtY7ah_Oa8K58,980
 dmm/data_source/data_source_base.py,sha256=erZ3ieqOiQC9ebrS_MmBAxsxxoKqeK9jH7rwrruECFQ,2348
-dmm/data_source/dataframe_source.py,sha256=hQiBwZI0-eKCyqBlMvENa6XGSnPXV9rElqqiLjU8WMk,3161
+dmm/data_source/dataframe_source.py,sha256=bfovCNLdGNQixpzFewyxJqcy39tU4AGg2WFD1o5tNp8,3424
 dmm/data_source/datarobot_source.py,sha256=JFnDhpUipdYuU55XS_DAyDkJMiAzYOqivTZRvCUH93U,59608
 dmm/data_source/generator_source.py,sha256=Tqn-cDeeHoPBLVqseao2nftqgUwvLGYyatVIkXCAcAs,3255
 dmm/data_source/runtime_parameters_source.py,sha256=LBbBqRpi1pEKvMXzOBuvklViyRSVq1czniNqX7-8Wg4,1515
 dmm/data_source/datarobot/__init__.py,sha256=T6qXyJ8_GGn6SYg3J6JZgYMajJ9WH_nBZefjdy3d09k,252
 dmm/data_source/datarobot/deployment.py,sha256=lCmk0VqtsdrhNRd3h0P_ZjtAlOnqeNPTqREfhhuyEZo,5434
 dmm/data_source/datarobot/export_provider.py,sha256=_016j-8Xpgpbm-KF-DxVuO0jN6fWCqQu62WlWX_STr4,5495
 dmm/dr_custom_metrics/__init__.py,sha256=33jp2Ck1vdpurXoSnHZSOqaxesZ0mESxZa7sxTptMmU,428
 dmm/dr_custom_metrics/deployment_event_reporter.py,sha256=_Xbh7PjE5eFgKz7rI91_xuBub98vyT38sh5QN-WJ9hA,1667
 dmm/dr_custom_metrics/dr_custom_metric.py,sha256=c1HormGR7eiQz3UlEPv-xru6G4DeLT-BtUAcIREX-Bo,8764
 dmm/metric/__init__.py,sha256=q0HfjwoQf22jyhja1Z-Vl0kBLQcl1pjn5VrCz1Qhq2Q,711
 dmm/metric/asymmetric_error.py,sha256=uJVfUx1T0dIcg419Y6XW-qA3qTUVMbG4hzyTXXPaGeY,1872
 dmm/metric/median_absolute_error.py,sha256=OYnw12uBLQH6ldBEUaZqvClGnmjV6t8kSYjo-ddy69M,572
-dmm/metric/metric_base.py,sha256=1pjyA-Cz1PRxTLknuJvWANam_XCsU7734zn5xUBjjXs,4424
+dmm/metric/metric_base.py,sha256=pQxs01oFF1zaM3mFb6EsxZ8M14grBIR5zXAFIPiqBVc,4946
 dmm/metric/missing_values.py,sha256=KAj2GDVKaYk3yT_VuLPs09qTCu64tYAmfts9ehhp8Xs,1209
 dmm/metric/sklearn_metric.py,sha256=mxHimJhkPCJrWbKbBFKgZ_DY0F0uip5ehEDYr6aZgbk,2302
-datarobot_model_metrics-0.5.5.dist-info/METADATA,sha256=t0aFrz_Tdm3J9mn6o-eNVH-jNdnJWEovI7L4ChkKmpg,40827
-datarobot_model_metrics-0.5.5.dist-info/WHEEL,sha256=iYlv5fX357PQyRT2o6tw1bN-YcKFFHKqB_LwHO5wP-g,110
-datarobot_model_metrics-0.5.5.dist-info/top_level.txt,sha256=69FbTyYFh17OyfaIppCUhlu4QG-prAaQ6ovJ_X0SNG8,4
-datarobot_model_metrics-0.5.5.dist-info/RECORD,,
+datarobot_model_metrics-0.5.6.dist-info/METADATA,sha256=0srByPJq3JxfTP_Fxa7SbjDBJyVJ3CUtRU10fw6yX2c,40827
+datarobot_model_metrics-0.5.6.dist-info/WHEEL,sha256=iYlv5fX357PQyRT2o6tw1bN-YcKFFHKqB_LwHO5wP-g,110
+datarobot_model_metrics-0.5.6.dist-info/top_level.txt,sha256=69FbTyYFh17OyfaIppCUhlu4QG-prAaQ6ovJ_X0SNG8,4
+datarobot_model_metrics-0.5.6.dist-info/RECORD,,
```

