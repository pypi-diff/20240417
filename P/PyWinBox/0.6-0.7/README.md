# Comparing `tmp/PyWinBox-0.6-py3-none-any.whl.zip` & `tmp/PyWinBox-0.7-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,22 +1,14 @@
-Zip file size: 52109 bytes, number of entries: 20
--rw-rw-rw-  2.0 fat     1202 b- defN 23-Sep-14 06:28 ewmhlib/__init__.py
--rw-rw-rw-  2.0 fat   155796 b- defN 23-Sep-15 18:42 ewmhlib/_ewmhlib.py
--rw-rw-rw-  2.0 fat      572 b- defN 23-Sep-14 06:28 ewmhlib/_main.py
--rw-rw-rw-  2.0 fat       66 b- defN 23-Aug-28 15:05 ewmhlib/py.typed
--rw-rw-rw-  2.0 fat      204 b- defN 23-Sep-13 13:38 ewmhlib/Props/__init__.py
--rw-rw-rw-  2.0 fat     4192 b- defN 23-Sep-13 13:39 ewmhlib/Props/_props.py
--rw-rw-rw-  2.0 fat      129 b- defN 23-Sep-13 13:49 ewmhlib/Structs/__init__.py
--rw-rw-rw-  2.0 fat     3844 b- defN 23-Sep-13 13:43 ewmhlib/Structs/_structs.py
--rw-rw-rw-  2.0 fat      429 b- defN 23-Sep-15 18:17 pywinbox/__init__.py
+Zip file size: 12274 bytes, number of entries: 12
+-rw-rw-rw-  2.0 fat      429 b- defN 24-Mar-22 09:45 pywinbox/__init__.py
 -rw-rw-rw-  2.0 fat    14224 b- defN 23-Sep-15 18:21 pywinbox/_main.py
--rw-rw-rw-  2.0 fat     1220 b- defN 23-Sep-13 13:47 pywinbox/_pywinbox_linux.py
--rw-rw-rw-  2.0 fat     6730 b- defN 23-Sep-05 14:40 pywinbox/_pywinbox_macos.py
--rw-rw-rw-  2.0 fat     1007 b- defN 23-Aug-25 07:26 pywinbox/_pywinbox_win.py
+-rw-rw-rw-  2.0 fat     3004 b- defN 24-Apr-12 17:27 pywinbox/_pywinbox_linux.py
+-rw-rw-rw-  2.0 fat     6696 b- defN 24-Apr-13 11:19 pywinbox/_pywinbox_macos.py
+-rw-rw-rw-  2.0 fat     1319 b- defN 24-Mar-22 09:45 pywinbox/_pywinbox_win.py
 -rw-rw-rw-  2.0 fat       67 b- defN 23-May-23 09:29 pywinbox/py.typed
--rw-rw-rw-  2.0 fat      127 b- defN 23-Sep-17 10:04 PyWinBox-0.6.dist-info/AUTHORS.txt
--rw-rw-rw-  2.0 fat     1537 b- defN 23-Sep-17 10:04 PyWinBox-0.6.dist-info/LICENSE.txt
--rw-rw-rw-  2.0 fat     6680 b- defN 23-Sep-17 10:04 PyWinBox-0.6.dist-info/METADATA
--rw-rw-rw-  2.0 fat       92 b- defN 23-Sep-17 10:04 PyWinBox-0.6.dist-info/WHEEL
--rw-rw-rw-  2.0 fat       17 b- defN 23-Sep-17 10:04 PyWinBox-0.6.dist-info/top_level.txt
--rw-rw-r--  2.0 fat     1573 b- defN 23-Sep-17 10:04 PyWinBox-0.6.dist-info/RECORD
-20 files, 199708 bytes uncompressed, 49573 bytes compressed:  75.2%
+-rw-rw-rw-  2.0 fat      211 b- defN 24-Apr-17 07:28 PyWinBox-0.7.dist-info/AUTHORS.txt
+-rw-rw-rw-  2.0 fat     1537 b- defN 24-Apr-17 07:28 PyWinBox-0.7.dist-info/LICENSE.txt
+-rw-rw-rw-  2.0 fat     6668 b- defN 24-Apr-17 07:28 PyWinBox-0.7.dist-info/METADATA
+-rw-rw-rw-  2.0 fat       92 b- defN 24-Apr-17 07:28 PyWinBox-0.7.dist-info/WHEEL
+-rw-rw-rw-  2.0 fat        9 b- defN 24-Apr-17 07:28 PyWinBox-0.7.dist-info/top_level.txt
+-rw-rw-r--  2.0 fat      947 b- defN 24-Apr-17 07:28 PyWinBox-0.7.dist-info/RECORD
+12 files, 35203 bytes uncompressed, 10690 bytes compressed:  69.6%
```

## zipnote {}

```diff
@@ -1,31 +1,7 @@
-Filename: ewmhlib/__init__.py
-Comment: 
-
-Filename: ewmhlib/_ewmhlib.py
-Comment: 
-
-Filename: ewmhlib/_main.py
-Comment: 
-
-Filename: ewmhlib/py.typed
-Comment: 
-
-Filename: ewmhlib/Props/__init__.py
-Comment: 
-
-Filename: ewmhlib/Props/_props.py
-Comment: 
-
-Filename: ewmhlib/Structs/__init__.py
-Comment: 
-
-Filename: ewmhlib/Structs/_structs.py
-Comment: 
-
 Filename: pywinbox/__init__.py
 Comment: 
 
 Filename: pywinbox/_main.py
 Comment: 
 
 Filename: pywinbox/_pywinbox_linux.py
@@ -36,26 +12,26 @@
 
 Filename: pywinbox/_pywinbox_win.py
 Comment: 
 
 Filename: pywinbox/py.typed
 Comment: 
 
-Filename: PyWinBox-0.6.dist-info/AUTHORS.txt
+Filename: PyWinBox-0.7.dist-info/AUTHORS.txt
 Comment: 
 
-Filename: PyWinBox-0.6.dist-info/LICENSE.txt
+Filename: PyWinBox-0.7.dist-info/LICENSE.txt
 Comment: 
 
-Filename: PyWinBox-0.6.dist-info/METADATA
+Filename: PyWinBox-0.7.dist-info/METADATA
 Comment: 
 
-Filename: PyWinBox-0.6.dist-info/WHEEL
+Filename: PyWinBox-0.7.dist-info/WHEEL
 Comment: 
 
-Filename: PyWinBox-0.6.dist-info/top_level.txt
+Filename: PyWinBox-0.7.dist-info/top_level.txt
 Comment: 
 
-Filename: PyWinBox-0.6.dist-info/RECORD
+Filename: PyWinBox-0.7.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## pywinbox/__init__.py

```diff
@@ -1,15 +1,15 @@
 #!/usr/bin/python
 # -*- coding: utf-8 -*-
 
 __all__ = [
     "version", "PyWinBox", "Box", "Rect", "Point", "Size", "pointInBox"
 ]
 
-__version__ = "0.6"
+__version__ = "0.7"
 
 
 def version(numberOnly: bool = True) -> str:
     """Returns the current version of PyWinBox module, in the form ''x.x.xx'' as string"""
     return ("" if numberOnly else "PyWinBox-")+__version__
```

## pywinbox/_pywinbox_linux.py

```diff
@@ -1,17 +1,19 @@
 #!/usr/bin/python
 # -*- coding: utf-8 -*-
 from __future__ import annotations
 
+import os
 import sys
 assert sys.platform == "linux"
 
 from typing import Union, Optional
 
 from Xlib.xobject.drawable import Window as XWindow
+
 from ._main import Box
 from ewmhlib import EwmhWindow
 
 
 def _getHandle(handle: Union[int, XWindow]) -> Optional[EwmhWindow]:
 
     newHandle = None
@@ -22,16 +24,48 @@
     return newHandle
 
 
 def _getWindowBox(handle: EwmhWindow) -> Box:
     # https://stackoverflow.com/questions/12775136/get-window-position-and-size-in-python-with-xlib
     geom = handle.xWindow.get_geometry()
     pos = handle.root.translate_coords(handle.id, 0, 0)
-    return Box(pos.x, pos.y, geom.width, geom.height)
+    x = pos.x
+    y = pos.y
+    w = geom.width
+    h = geom.height
+    # Thanks to roym899 (https://github.com/roym899) for his HELP!!!!
+    if "gnome" in os.environ.get('XDG_CURRENT_DESKTOP', "").lower():
+        # Most apps in GNOME do not set _NET_EXTENTS, but _GTK_EXTENTS,
+        # which is the additional space AROUND the window.
+        _gtk_extents = handle._getGtkFrameExtents()
+        if _gtk_extents and len(_gtk_extents) >= 4:
+            # this means there is a GTK HeaderBar
+            x += int(_gtk_extents[0])
+            y += int(_gtk_extents[2])
+            w -= (int(_gtk_extents[0]) + int(_gtk_extents[1]))
+            h -= (int(_gtk_extents[2]) + int(_gtk_extents[3]))
+    # If not in GNOME: best guess is to trust pos and geom from above
+    # NOTE: if you have this case and are not getting the expected result,
+    #       please open an issue: https://github.com/Kalmat/PyWinBox/issues/new
+    return Box(x, y, w, h)
 
 
 def _moveResizeWindow(handle: EwmhWindow, newBox: Box):
     newLeft = max(0, newBox.left)  # Xlib won't accept negative positions
     newTop = max(0, newBox.top)
-    handle.setMoveResize(x=newLeft, y=newTop, width=newBox.width, height=newBox.height, userAction=True)
-    # handle.configure(x=newLeft, y=newTop, width=newBox.width, height=newBox.height)
-
+    newWidth = newBox.width
+    newHeight = newBox.height
+    if "gnome" in os.environ.get('XDG_CURRENT_DESKTOP', "").lower():
+        # Most apps in GNOME do not set _NET_EXTENTS, but _GTK_EXTENTS,
+        # which is the additional space AROUND the window.
+        _gtk_extents = handle._getGtkFrameExtents()
+        if _gtk_extents and len(_gtk_extents) >= 4:
+            # this means there is a GTK HeaderBar
+            newLeft -= int(_gtk_extents[0])
+            newTop -= int(_gtk_extents[2])
+            newWidth += (int(_gtk_extents[0]) + int(_gtk_extents[1]))
+            newHeight += (int(_gtk_extents[2]) + int(_gtk_extents[3]))
+    # If not in GNOME: best guess is to trust pos and geom from above
+    # NOTE: if you have this case and are not getting the expected result,
+    #       please open an issue: https://github.com/Kalmat/PyWinBox/issues/new
+    handle.setMoveResize(x=newLeft, y=newTop, width=newWidth, height=newHeight, userAction=True)
+    # handle.configure(x=newLeft, y=newTop, width=newWidth, height=newHeight)
```

## pywinbox/_pywinbox_macos.py

```diff
@@ -130,15 +130,15 @@
                         set size of window winName to {sizeW, sizeH}
                     end tell
                 end try
             end run"""
     proc = subprocess.Popen(['osascript', '-', appName, title,
                              str(newBox.left), str(newBox.top), str(newBox.width), str(newBox.height)],
                             stdin=subprocess.PIPE, stdout=subprocess.PIPE, encoding='utf8')
-    ret, err = proc.communicate(cmd)
+    _, _ = proc.communicate(cmd)
 
 
 def _flipTop(window: AppKit.NSWindow, box: Box) -> int:
     # https://www.krizka.net/2010/04/20/converting-between-kcgwindowbounds-and-nswindowframe/
     # https://stackoverflow.com/questions/6901651/mac-os-x-cocoa-flipping-y-coordinate-in-global-screen-coordinate-space
     screenSize = window.screen().frame().size
     boundY = screenSize.height - (box.top + box.height)
@@ -149,15 +149,14 @@
 def _unflipTop(window: AppKit.NSWindow, box: Box) -> int:
     # nsY = box.top + box.height
     nsY = _flipTop(window, box)
     return nsY
 
 
 def _NSgetWindowBox(window: AppKit.NSWindow, flipValues: bool = False) -> Box:
-    # frame = window.frame()
     frame = window.frame()
     x = int(frame.origin.x)
     y = int(frame.origin.y)
     w = int(frame.size.width)
     h = int(frame.size.height)
     if flipValues:
         y = _flipTop(window, Box(x, y, w, h))
```

## pywinbox/_pywinbox_win.py

```diff
@@ -10,17 +10,23 @@
 
 import ctypes
 import win32gui
 
 from ._main import Box
 
 
-dpiAware = ctypes.windll.user32.GetAwarenessFromDpiAwarenessContext(ctypes.windll.user32.GetThreadDpiAwarenessContext())
+# Thanks to poipoiPIO (https://github.com/poipoiPIO) for his HELP!!!
+try:
+    dpiAware = ctypes.windll.user32.GetAwarenessFromDpiAwarenessContext(ctypes.windll.user32.GetThreadDpiAwarenessContext())
+except AttributeError:  # Windows server does not implement GetAwarenessFromDpiAwarenessContext
+    dpiAware = 0
+
 if dpiAware == 0:
-    ctypes.windll.shcore.SetProcessDpiAwareness(2)
+    # It seems that this can't be invoked twice. Setting it to 1 for apps having 0 (unaware) may have less impact
+    ctypes.windll.shcore.SetProcessDpiAwareness(1)
 
 
 def _getHandle(handle: Union[int, str]) -> Optional[int]:
     newHandle = None
     if isinstance(handle, str):
         try:
             newHandle = int(handle, base=16)
```

## Comparing `PyWinBox-0.6.dist-info/LICENSE.txt` & `PyWinBox-0.7.dist-info/LICENSE.txt`

 * *Files identical despite different names*

## Comparing `PyWinBox-0.6.dist-info/METADATA` & `PyWinBox-0.7.dist-info/METADATA`

 * *Files 5% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: PyWinBox
-Version: 0.6
+Version: 0.7
 Summary: Cross-Platform and multi-monitor toolkit to handle rectangular areas and windows box
 Home-page: https://github.com/Kalmat/PyWinBox
 Author: Kalmat
 Author-email: palookjones@gmail.com
 License: BSD 3
 Keywords: left top right bottom size width height topleft bottomleft topright bottomright midtop midleft midbottom midright center centerx centery box rect boundingbox area
 Classifier: Development Status :: 4 - Beta
@@ -13,31 +13,31 @@
 Classifier: Environment :: MacOS X
 Classifier: Intended Audience :: Developers
 Classifier: License :: OSI Approved :: BSD License
 Classifier: Operating System :: OS Independent
 Classifier: Programming Language :: Python
 Classifier: Programming Language :: Python :: 3
 Classifier: Programming Language :: Python :: 3 :: Only
-Classifier: Programming Language :: Python :: 3.7
-Classifier: Programming Language :: Python :: 3.8
 Classifier: Programming Language :: Python :: 3.9
 Classifier: Programming Language :: Python :: 3.10
+Classifier: Programming Language :: Python :: 3.11
 Description-Content-Type: text/markdown
 License-File: LICENSE.txt
 License-File: AUTHORS.txt
-Requires-Dist: typing-extensions (>=4.4.0)
-Requires-Dist: pyobjc (>=8.1) ; sys_platform == "darwin"
-Requires-Dist: python-xlib (>=0.21) ; sys_platform == "linux"
-Requires-Dist: pywin32 (>=302) ; sys_platform == "win32"
+Requires-Dist: typing-extensions >=4.4.0
+Requires-Dist: pyobjc >=8.1 ; sys_platform == "darwin"
+Requires-Dist: python-xlib >=0.21 ; sys_platform == "linux"
+Requires-Dist: ewmhlib >=0.1 ; sys_platform == "linux"
+Requires-Dist: pywin32 >=302 ; sys_platform == "win32"
 Provides-Extra: dev
-Requires-Dist: types-setuptools (>=65.5) ; extra == 'dev'
-Requires-Dist: mypy (>=0.990) ; extra == 'dev'
-Requires-Dist: types-pywin32 (>=305.0.0.3) ; extra == 'dev'
-Requires-Dist: types-python-xlib (>=0.32) ; extra == 'dev'
-Requires-Dist: pywinctl (>=0.1) ; extra == 'dev'
+Requires-Dist: types-setuptools >=65.5 ; extra == 'dev'
+Requires-Dist: mypy >=0.990 ; extra == 'dev'
+Requires-Dist: types-pywin32 >=305.0.0.3 ; extra == 'dev'
+Requires-Dist: types-python-xlib >=0.32 ; extra == 'dev'
+Requires-Dist: pywinctl >=0.3 ; extra == 'dev'
 
 # PyWinBox
 
 [![Type Checking](https://github.com/Kalmat/PyWinBox/actions/workflows/type-checking.yml/badge.svg)](https://github.com/Kalmat/PyWinBox/actions/workflows/type-checking.yml)
 [![PyPI version](https://badge.fury.io/py/PyWinBox.svg)](https://badge.fury.io/py/PyWinBox)
```

